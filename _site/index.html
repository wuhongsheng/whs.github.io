<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>WHS</title>
    <meta name="description" content="">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_8v3czwksspqlg14i.css">
    <link rel="stylesheet" href="/css/main.css ">
    <link rel="canonical" href="http://localhost:4000/">
    <link rel="alternate" type="application/rss+xml" title="WHS" href="http://localhost:4000/feed.xml ">

    <link rel="stylesheet" type="text/css" href="/css/sunburst.css ">
    <script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>

    
    <!--<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=css&amp;skin=sunburst"></script>-->


    <script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?73b6a88ab52561dd17cdc4f6284caaf0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


    <script>
    // google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-96638437-1', 'auto');
      ga('send', 'pageview');

    </script>



<!--google广告-->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6707426947779377",
    enable_page_level_ads: true
  });
</script>
</head>


  <body onload="PR.prettyPrint()">

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">WHS</a>
        <small>GIS Engineer</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a class="active" href="/">
                        
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>Android Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-heart"></i>About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" index>
    <div class="left">
        <h1>Welcome to WHS's Blog!</h1>
        <small>种树，最好的时间是十年前，其次是现在。</small>
        <hr>
        <ul>
            
              <li>
                <h2>
                  <a class="post-link" href="/2019/06/17/%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9MVVM%E8%80%8C%E4%B8%8D%E6%98%AFMVP-Android%E6%9E%B6%E6%9E%84/">为什么选择MVVM而不是MVP - Android架构</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2019-06-17
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Android" title="Category: Android" rel="category">Android</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Android" title="Tag: Android" rel="tag">Android</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#mvc" id="markdown-toc-mvc">MVC</a></li>
  <li><a href="#mvp" id="markdown-toc-mvp">MVP</a></li>
  <li><a href="#mvvm" id="markdown-toc-mvvm">MVVM</a></li>
  <li><a href="#mvvm其实与mvp架构看起来很相似" id="markdown-toc-mvvm其实与mvp架构看起来很相似">MVVM其实与MVP架构看起来很相似</a></li>
  <li><a href="#代码示例" id="markdown-toc-代码示例">代码示例</a></li>
</ul>

<p>Android本身被写成MVC，其中Activity或多或少地负责所有事情。对于可能足够的简单应用，但随着复杂性的增加，问题的数量和水平也会提高。
现在有许多不同的架构方法，如MVP，FLUX，MVI，MVVM等，它们在解决上述问题方面证明是富有成效的。只要代码可维护，我们就可以使用任何方法，我们能够快速适应变化，一切运行良好，简而言之就是开发人员的快乐生活。</p>

<h6 id="mvc">MVC</h6>
<p>传统的Android App其实都是基于MVC的，Activity，Fragment相当于C,布局相当于V,数据逻辑相当于M
随着业务的增长Controller里的代码会越来越臃肿，因为它不只要负责业务逻辑，还要控制View的展示。也就是说Activity、Fragment杂糅了Controller和View，耦合变大。并不能算作真正意义上的MVC。</p>

<p><img src="http://www.jcodecraeer.com/uploads/20160414/1460565635729862.png" alt="" /></p>

<pre><code class="language-mermaid">graph LR
B(CONTROLLER) --&gt; C(MODEL)
C(MODEL) --&gt; A(VIEW)
A(VIEW) --&gt; C(MODEL)
A(VIEW) --&gt; B(CONTROLLER)
</code></pre>

<h6 id="mvp">MVP</h6>
<p>MVP架构其实可以说与MVC的架构还是有很大的差别的，数据逻辑相当于M，Activity（负责View的绘制以及与用户交互）相当于V ，View于Model间的交互则为P其实最明显的区别就是，MVC中是允许Model和View进行交互的，而MVP中很明显，Model与View之间的交互由Presenter完成。还有一点就是Presenter与View之间的交互是通过接口的</p>

<p><img src="http://www.jcodecraeer.com/uploads/20160414/1460565637114968.png" alt="" /></p>

<pre><code class="language-mermaid">graph LR
A(VIEW)--&gt; B(PRESENTER)
B(PRESENTER) --&gt; A(VIEW)
B(PRESENTER) --&gt; C(MODEL)
C(MODEL) --&gt; B(PRESENTER)
</code></pre>

<ul>
  <li>缺点
    <ol>
      <li>紧耦合
对于每个活动/片段（视图），我们需要一个Presenter。这是一个硬约束规则。Presenter保存对Activity和Activity的引用保留对presenter的引用。1：1的关系，这就是最大问题所在。
随着视图复杂性的增加，这种关系的维护和处理也会增加。
这最终会导致我们之前遇到的同样问题，因为设计的快速变化，我们实际上需要修改整个关系。
从我们的最终目标“以分布式方式构建事物”中挑选一个声明，为了实现它并避免这种紧密关系，ViewModels被引入。
ViewModels是与逻辑/模型层交互的简单类，只是暴露状态/数据，实际上不知道该数据将由谁或如何使用。只有View（Activity）保存对ViewModel的引用，反之亦然，这解决了我们的紧耦合问题。单个视图可以保存对多个ViewModel的引用。
即使对于复杂的视图，我们实际上可以在同一层次结构中具有不同的ViewModel</li>
      <li>可测性
由于Presenters很难绑定视图，因此编写单元测试变得有点困难，因为View具有依赖性。
ViewModels甚至更加单元测试友好，因为它们只是暴露状态，因此可以独立测试而无需测试数据的消耗方式，简而言之，View不依赖于View。
这是两个主要的选择，使选择明确。可能有更多或可能没有。以下评论正在等待!! 😄</li>
    </ol>
  </li>
</ul>

<h6 id="mvvm">MVVM</h6>
<p>MVVM是Model-View-ViewModel的简写. 它是有三个部分组成：Model、View、ViewModel。Model：数据模型层。包含业务逻辑和校验逻辑,View：屏幕上显示的UI界面（layout、views）,ViewModel：View和Model之间的链接桥梁，处理视图逻辑。
当View有用户输入后，ViewModel通知Model更新数据，同理Model数据更新后，ViewModel通知View更新。</p>

<pre><code class="language-mermaid">graph LR
A(VIEW) --binding--- B(VIEWMODEL)
B(VIEWMODEL) --&gt; C(MODEL)
C(MODEL) --&gt; B(VIEWMODEL)
</code></pre>

<h3 id="mvvm其实与mvp架构看起来很相似">MVVM其实与MVP架构看起来很相似</h3>
<p><img src="https://upload-images.jianshu.io/upload_images/1605450-40b99f4f565fe170.png?imageMogr2/auto-orient/" alt="" /></p>

<h3 id="代码示例">代码示例</h3>

<ul>
  <li>MVVM</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * @author whs
 * @date 2019/3/29
 * 清障救援
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RescueActivity</span> <span class="kd">extends</span> <span class="n">WtActivity</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">ActivityRescueBinding</span> <span class="n">mBinding</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">RescueViewModel</span> <span class="n">mViewModel</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">mBinding</span> <span class="o">=</span> <span class="n">DataBindingUtil</span><span class="o">.</span><span class="na">setContentView</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_rescue</span><span class="o">);</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">toolbar</span><span class="o">.</span><span class="na">setNavigationOnClickListener</span><span class="o">(</span><span class="n">view</span> <span class="o">-&gt;</span> <span class="n">onBackPressed</span><span class="o">());</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">tvTitle</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">getString</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">string</span><span class="o">.</span><span class="na">rescue</span><span class="o">));</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">ivRight</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">ivRight</span><span class="o">.</span><span class="na">setImageResource</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">orders</span><span class="o">);</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">ivRight</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">mViewModel</span><span class="o">.</span><span class="na">getTaskNum</span><span class="o">().</span><span class="na">getValue</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">RescueActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">ClearingActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                    <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="n">mViewModel</span><span class="o">.</span><span class="na">message</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="s">"暂无新任务"</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">mViewModel</span> <span class="o">=</span> <span class="n">ViewModelProviders</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="k">this</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="n">RescueViewModel</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

        <span class="n">init</span><span class="o">(</span><span class="n">mViewModel</span><span class="o">);</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">setViewModel</span><span class="o">(</span><span class="n">mViewModel</span><span class="o">);</span>
        <span class="n">mViewModel</span><span class="o">.</span><span class="na">getTaskNum</span><span class="o">().</span><span class="na">observe</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">taskNum</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="n">mBinding</span><span class="o">.</span><span class="na">setViewModel</span><span class="o">(</span><span class="n">mViewModel</span><span class="o">);</span>
        <span class="o">});</span>
        <span class="n">mViewModel</span><span class="o">.</span><span class="na">loadClearTaskNum</span><span class="o">();</span>

        <span class="c1">// Check that the activity is using the layout version with</span>
        <span class="c1">// the fragment_container FrameLayout</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">mBinding</span><span class="o">.</span><span class="na">flContent</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// However, if we're being restored from a previous state,</span>
            <span class="c1">// then we don't need to do anything and should return or else</span>
            <span class="c1">// we could end up with overlapping fragments.</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">savedInstanceState</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">getSupportFragmentManager</span><span class="o">().</span><span class="na">beginTransaction</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">fl_content</span><span class="o">,</span> <span class="n">TaskFragment</span><span class="o">.</span><span class="na">getFragment</span><span class="o">()).</span><span class="na">commit</span><span class="o">();</span>


        <span class="o">}</span>

    <span class="o">}</span>
<span class="o">}</span>



<span class="cm">/**
 * Created by whs on 2019/3/27
 * 清障救援
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RescueViewModel</span> <span class="kd">extends</span> <span class="n">BaseViewModel</span> <span class="o">{</span>

    <span class="cm">/**请障救援任务数量*/</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">MutableLiveData</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">mTaskNum</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MutableLiveData</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="n">MutableLiveData</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">getTaskNum</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">mTaskNum</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**
     * 获取清障救援任务数
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">loadClearTaskNum</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">webApi</span><span class="o">.</span><span class="na">getClearRescueTaskNum</span><span class="o">().</span><span class="na">enqueue</span><span class="o">(</span><span class="k">new</span> <span class="n">BaseCallBack</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;(</span><span class="s">"救援任务"</span><span class="o">,</span><span class="k">this</span><span class="o">)</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onResponse</span><span class="o">(</span><span class="n">Integer</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">mTaskNum</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>


</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;layout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">xmlns:tools=</span><span class="s">"http://schemas.android.com/tools"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;data&gt;</span>
        <span class="nt">&lt;import</span> <span class="na">type=</span><span class="s">"android.view.View"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;import</span> <span class="na">type=</span><span class="s">"androidx.core.content.ContextCompat"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;variable</span>
            <span class="na">name=</span><span class="s">"viewModel"</span>
            <span class="na">type=</span><span class="s">"com.wtkj.baseproduct.ui.rescue.RescueViewModel"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/data&gt;</span>

    <span class="nt">&lt;androidx.constraintlayout.widget.ConstraintLayout</span>
        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
        <span class="na">android:layout_height=</span><span class="s">"match_parent"</span><span class="nt">&gt;</span>

        <span class="nt">&lt;androidx.appcompat.widget.Toolbar</span>
            <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span>
            <span class="na">android:id=</span><span class="s">"@+id/toolbar"</span>
            <span class="na">android:gravity=</span><span class="s">"center"</span>
            <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
            <span class="na">app:navigationIcon=</span><span class="s">"@drawable/ic_back"</span>
            <span class="na">android:layout_height=</span><span class="s">"?attr/actionBarSize"</span>
            <span class="na">android:background=</span><span class="s">"@color/header_black"</span>
            <span class="na">app:popupTheme=</span><span class="s">"@style/AppTheme.PopupOverlay"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;TextView</span>
                <span class="na">android:id=</span><span class="s">"@+id/tv_title"</span>
                <span class="na">android:textColor=</span><span class="s">"@color/white"</span>
                <span class="na">android:layout_gravity=</span><span class="s">"center"</span>
                <span class="na">android:textSize=</span><span class="s">"20sp"</span>
                <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span> <span class="nt">/&gt;</span>

            <span class="nt">&lt;TextView</span>
                <span class="na">android:id=</span><span class="s">"@+id/tv_right"</span>
                <span class="na">android:textColor=</span><span class="s">"@color/colorAccent"</span>
                <span class="na">android:layout_gravity=</span><span class="s">"right"</span>
                <span class="na">android:layout_marginEnd=</span><span class="s">"10dp"</span>
                <span class="na">android:textSize=</span><span class="s">"12sp"</span>
                <span class="na">android:text=</span><span class="s">"@string/title"</span>
                <span class="na">android:visibility=</span><span class="s">"gone"</span>
                <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span> <span class="nt">/&gt;</span>

            <span class="nt">&lt;ImageView</span>
                <span class="na">android:id=</span><span class="s">"@+id/iv_right"</span>
                <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_height=</span><span class="s">"?attr/actionBarSize"</span>
                <span class="na">android:layout_gravity=</span><span class="s">"right"</span>
                <span class="na">android:gravity=</span><span class="s">"center"</span>
                <span class="na">android:padding=</span><span class="s">"12dp"</span>
                <span class="na">android:visibility=</span><span class="s">"visible"</span>
                <span class="na">android:layout_marginEnd=</span><span class="s">"8dp"</span>
                <span class="na">android:src=</span><span class="s">"@mipmap/orders"</span>
                <span class="nt">&gt;</span>
            <span class="nt">&lt;/ImageView&gt;</span>
        <span class="nt">&lt;/androidx.appcompat.widget.Toolbar&gt;</span>
        <span class="nt">&lt;TextView</span>
            <span class="na">android:id=</span><span class="s">"@+id/tv_notify"</span>
            <span class="na">android:layout_width=</span><span class="s">"20dp"</span>
            <span class="na">android:layout_height=</span><span class="s">"20dp"</span>
            <span class="na">android:layout_gravity=</span><span class="s">"right"</span>
            <span class="na">android:layout_margin=</span><span class="s">"10dp"</span>
            <span class="na">android:background=</span><span class="s">"@drawable/background_notify_circle_red"</span>
            <span class="na">android:gravity=</span><span class="s">"center"</span>
            <span class="na">android:textColor=</span><span class="s">"@color/white"</span>
            <span class="na">android:textSize=</span><span class="s">"12sp"</span>
            <span class="na">android:visibility=</span><span class="s">"@{viewModel.taskNum &gt; 0 ? View.VISIBLE : View.GONE}"</span>
            <span class="na">android:text=</span><span class="s">"@{String.valueOf(viewModel.taskNum)}"</span>
            <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
            <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;FrameLayout</span>
            <span class="na">android:id=</span><span class="s">"@+id/fl_content"</span>
            <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
            <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
            <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
            <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/toolbar"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span>
<span class="nt">&lt;/layout&gt;</span>
</code></pre></div></div>


                </div>
                <div class="read-all">
                    <a  href="/2019/06/17/%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9MVVM%E8%80%8C%E4%B8%8D%E6%98%AFMVP-Android%E6%9E%B6%E6%9E%84/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2019/04/23/Linux%E4%BD%BF%E7%94%A8%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/">Linux使用从入门到放弃</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2019-04-23
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Linux" title="Category: Linux" rel="category">Linux</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Linux" title="Tag: Linux" rel="tag">Linux</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#常用命令" id="markdown-toc-常用命令">常用命令</a></li>
  <li><a href="#环境部署" id="markdown-toc-环境部署">环境部署</a>    <ul>
      <li><a href="#配置java环境" id="markdown-toc-配置java环境">配置Java环境</a></li>
      <li><a href="#linux下安装gradle" id="markdown-toc-linux下安装gradle">Linux下安装Gradle</a></li>
      <li><a href="#安装android-sdk" id="markdown-toc-安装android-sdk">安装Android SDK</a></li>
    </ul>
  </li>
</ul>

<h2 id="常用命令">常用命令</h2>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 远程连接服务器</span>
ssh <span class="nt">-X</span> username@192.168.1.233
password
<span class="c"># 文件下载</span>
wget 下载地址
wget <span class="nt">-P</span> 指定目录 下载地址

<span class="c"># 解压文件</span>
<span class="c"># 解压zip</span>
unzip <span class="nt">-d</span> /opt/gradle gradle-4.6-bin.zip 
<span class="c"># 解压tgz</span>
<span class="nb">tar   </span>zxvf   /opt/dev/android-sdk_r24.4.1-linux.tgz  <span class="nt">-C</span> /usr//local/AndroidSDK
<span class="c"># tar.gz文件</span>
<span class="nb">tar</span> <span class="nt">-xvf</span> 文件路径
</code></pre></div></div>

<h2 id="环境部署">环境部署</h2>

<h4 id="配置java环境">配置Java环境</h4>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home
 <span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$JAVA_HOME</span>/bin:<span class="nv">$PATH</span>:
</code></pre></div></div>
<h4 id="linux下安装gradle">Linux下安装Gradle</h4>
<ol>
  <li>下载
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://services.gradle.org/distributions/gradle-5.1.1-all.zip
</code></pre></div>    </div>
  </li>
  <li>解压
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unzip <span class="nt">-d</span> /opt/gradle gradle-4.6-bin.zip 
</code></pre></div>    </div>
  </li>
  <li>环境变量配置
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 打开配置文件</span>
vim /etc/profile
<span class="c"># 配置环境变量</span>
<span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/local/gradle/gradle-5.1.1/bin
<span class="c"># 保存退出后刷新配置文件</span>
<span class="nb">source</span> /etc/profile
<span class="c"># 检验安装结果</span>
gradle <span class="nt">--version</span>
</code></pre></div>    </div>
    <h4 id="安装android-sdk">安装Android SDK</h4>
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">ANDROID_HOME</span><span class="o">=</span>/usr/local/AndroidSDK/android-sdk-linux
<span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$ANDROID_HOME</span>/tools
<span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$ANDROID_HOME</span>/platform-tools
<span class="c"># 检验安装结果</span>
android <span class="nt">-h</span>
<span class="c"># 查看可用组建</span>
android list sdk <span class="nt">--all</span>
<span class="c"># 下载需要的组件, 注意--all 这个参数一定要加上, 否则后面filter里的序号不起作用, 例如我用的是</span>
android update sdk <span class="nt">-u</span> <span class="nt">--all</span> <span class="nt">--filter</span> 1,2,4,5,47
</code></pre></div>    </div>
  </li>
</ol>

                </div>
                <div class="read-all">
                    <a  href="/2019/04/23/Linux%E4%BD%BF%E7%94%A8%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2019/01/21/Android-Databinding%E4%BD%BF%E7%94%A8/">Android DataBinding使用</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2019-01-21
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Android" title="Category: Android" rel="category">Android</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Android" title="Tag: Android" rel="tag">Android</a>&nbsp;
    
        <a href="/tag/#Jetpack" title="Tag: Jetpack" rel="tag">Jetpack</a>&nbsp;
    
        <a href="/tag/#DataBinding" title="Tag: DataBinding" rel="tag">DataBinding</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#常见问题" id="markdown-toc-常见问题">常见问题</a></li>
</ul>

<p><a href="https://developer.android.google.cn/topic/libraries/data-binding/">数据绑定库</a>是一个支持库，允许您使用声明性格式而不是以编程方式将布局中的UI组件绑定到应用程序中的数据源。</p>

<h3 id="常见问题">常见问题</h3>

<p><strong>错误描述</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.wantong.product/com.example.xuncha.ui.task.PatrolTaskDetialActivity}: java.lang.RuntimeException: view must have a tag
</code></pre></div></div>

<p><strong>原因及解决方法</strong></p>

<p>使用DataBinding的项目中存在同名布局文件，找到对应的生成文件查看具体错误原因</p>


                </div>
                <div class="read-all">
                    <a  href="/2019/01/21/Android-Databinding%E4%BD%BF%E7%94%A8/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2018/08/15/Android-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">Android 性能优化</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2018-08-15
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Android" title="Category: Android" rel="category">Android</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Android" title="Tag: Android" rel="tag">Android</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#什么是内存泄漏" id="markdown-toc-什么是内存泄漏">什么是内存泄漏</a></li>
  <li><a href="#为什么内存泄漏不好" id="markdown-toc-为什么内存泄漏不好">为什么内存泄漏不好</a></li>
  <li><a href="#如何识别" id="markdown-toc-如何识别">如何识别</a></li>
  <li><a href="#常见的内存泄漏的原因" id="markdown-toc-常见的内存泄漏的原因">常见的内存泄漏的原因</a></li>
  <li><a href="#anr问题" id="markdown-toc-anr问题">ANR问题</a>    <ul>
      <li><a href="#如何避免anr" id="markdown-toc-如何避免anr">如何避免ANR</a></li>
    </ul>
  </li>
  <li><a href="#性能优化指标" id="markdown-toc-性能优化指标">性能优化指标</a></li>
  <li><a href="#参考" id="markdown-toc-参考">参考</a></li>
</ul>

<p>每个应用程序都需要内存作为执行其工作的资源。为了确保Android中的每个应用程序都有足够的内存，Android系统需要有效地管理内存分配。当内存不足时，Android运行时会触发垃圾收集（GC）。GC的目的是通过清理不再有用的对象来回收内存。简而言之，为用户提供服务的所有内容都应保存在内存中，其他所有内容都将从内存中消失以释放资源。
但是，如果以不良方式编写代码，从可访问对象以某种方式引用未使用的对象，GC会将未使用的对象标记为有用对象，因此无法删除它们。这称为内存泄漏。</p>

<h3 id="什么是内存泄漏">什么是内存泄漏</h3>

<p>每个应用程序都需要内存作为执行其工作的资源。为了确保Android中的每个应用程序都有足够的内存，Android系统需要有效地管理内存分配。当内存不足时，Android运行时会触发垃圾收集（GC）。GC的目的是通过清理不再有用的对象来回收内存。简而言之，为用户提供服务的所有内容都应保存在内存中，其他所有内容都将从内存中消失以释放资源。
但是，如果以不良方式编写代码，从可访问对象以某种方式引用未使用的对象，GC会将未使用的对象标记为有用对象，因此无法删除它们。这称为内存泄漏。</p>

<p><img src="http://ooxw95lkz.bkt.clouddn.com/android%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F1.png" alt="" /></p>

<p>Java中有四种GC根：</p>
<ul>
  <li>
    <p><strong>局部变量</strong>由一个线程堆栈保持活动状态。这不是真实对象虚拟参考，因此不可见。对于所有意图和目的，局部变量是GC根。</p>
  </li>
  <li>
    <p><strong>活动Java线程</strong>始终被视为活动对象，因此是GC根。这对于线程局部变量尤为重要。</p>
  </li>
  <li>
    <p><strong>静态变量</strong>由其类引用。这一事实使它们成为事实上的GC根源。类本身可以被垃圾收集，这将删除所有引用的静态变量。当我们一般使用应用程序服务器，OSGi容器或类加载器时，这一点特别重要。我们将在“问题模式”部分讨论相关问题。</p>
  </li>
  <li>
    <p><strong>JNI引用</strong>是本机代码作为JNI调用的一部分创建的Java对象。这样创建的对象是专门处理的，因为JVM不知道它是否被本机代码引用。这些对象代表了一种非常特殊的GC根形式，我们将在下面的“问题模式”部分中详细介绍。</p>
  </li>
</ul>

<h3 id="为什么内存泄漏不好">为什么内存泄漏不好</h3>

<ul>
  <li>界面卡顿</li>
</ul>

<p><img src="http://ooxw95lkz.bkt.clouddn.com/android%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Android%E7%BB%98%E5%88%B6%E7%AA%97%E5%8F%A3.png" alt="" /></p>

<p><img src="http://ooxw95lkz.bkt.clouddn.com/android%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E7%94%B1%E4%BA%8E%E9%A2%91%E7%B9%81GC%E5%AF%BC%E8%87%B4%E4%B8%A2%E5%A4%B1%E5%B8%A7.png" alt="" /></p>

<ul>
  <li>
    <p>ANR</p>

    <ol>
      <li>在5秒内无响应输入事件（如按键或屏幕触摸事件）</li>
      <li>BroadcastReceiver尚未在10秒内完成执行。</li>
      <li>Service在特定的时间(20s)内无法处理完成。</li>
    </ol>
  </li>
  <li>
    <p>OOM-&gt;崩溃</p>
  </li>
  <li>
    <p>在QA/测试中很难找到内存泄漏问题。它们难以复制。崩溃报告通常很难推理，因为它可以在Android系统拒绝内存分配的任何时间发生。</p>
  </li>
</ul>

<h3 id="如何识别">如何识别</h3>

<ul>
  <li>LeakCanary工具</li>
</ul>

<p>它会为您的应用中的活动创建弱引用。（您也可以通过向任何其他对象添加监视来自定义它。）然后检查GC之后是否清除了引用。如果没有，它会将堆转储到.hprof文件中并进行分析以确认是否存在泄漏。如果有，则显示通知，并在单独的应用程序中显示泄漏发生的参考树。</p>

<ul>
  <li>
    <p><a href="https://developer.android.google.cn/studio/profile/am-hprof">HPROF Viewer and Analyzer</a></p>
  </li>
  <li>
    <p><a href="https://developer.android.google.cn/studio/profile/memory-profiler">Memory Profiler</a></p>
  </li>
</ul>

<h3 id="常见的内存泄漏的原因">常见的内存泄漏的原因</h3>

<ul>
  <li>Leak activity to a static reference</li>
  <li>Leak activity to a worker thread</li>
  <li>Leak thread itself</li>
</ul>

<h3 id="anr问题">ANR问题</h3>

<ul>
  <li>导出 traces.txt 文件</li>
</ul>

<p>通过adb导出 data/anr/traces.txt</p>

<h4 id="如何避免anr">如何避免ANR</h4>

<p>不要在主线程(UI线程)里面做繁重的操作.</p>

<h3 id="性能优化指标">性能优化指标</h3>

<ul>
  <li>启动时间</li>
  <li>界面切换是否卡顿</li>
  <li>过度绘制</li>
</ul>

<h3 id="参考">参考</h3>

<p><a href="https://android.jlelse.eu/memory-leak-patterns-in-android-4741a7fcb570">Memory Leak Patterns in Android</a></p>

<p><a href="https://www.dynatrace.com/resources/ebooks/javabook/how-garbage-collection-works/">Java Memory Management</a></p>

<p><a href="http://wuhongsheng.top/2018/01/24/Android%E5%90%AF%E5%8A%A8%E5%8A%A0%E9%80%9F%E4%BC%98%E5%8C%96/">Android启动加速优化</a></p>


                </div>
                <div class="read-all">
                    <a  href="/2018/08/15/Android-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2018/06/12/%E4%BD%BF%E7%94%A8TensorFlow%E5%AF%B9%E8%8A%B1%E6%9C%B5%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E5%88%86%E7%B1%BB/">使用TensorFlow对花朵进行简单分类</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2018-06-12
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#AI" title="Category: AI" rel="category">AI</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#AI" title="Tag: AI" rel="tag">AI</a>&nbsp;
    
        <a href="/tag/#TensorFlow" title="Tag: TensorFlow" rel="tag">TensorFlow</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#主要步骤" id="markdown-toc-主要步骤">主要步骤</a></li>
  <li><a href="#下一步" id="markdown-toc-下一步">下一步</a></li>
  <li><a href="#常见问题及解决方法" id="markdown-toc-常见问题及解决方法">常见问题及解决方法</a></li>
  <li><a href="#参考" id="markdown-toc-参考">参考</a></li>
</ul>

<p>我们将使用转移学习，这意味着我们从一个已经接受另一个问题培训的模型开始。然后我们将重新训练类似的问题。从头开始深入学习可能需要几天时间，但可以在短时间内完成转移学习。</p>

<p>我们将使用在ImageNet大型视觉识别挑战数据集上训练的模型。这些模型可以区分达尔马提亚或洗碗机等1,000个不同的类别。您将可以选择模型架构，因此您可以确定问题的速度，大小和准确性之间的正确折中。</p>

<p>我们将使用这个相同的模型，但重新训练它可以根据我们自己的例子区分少数类。</p>

<h3 id="主要步骤">主要步骤</h3>

<ul>
  <li>
    <p><a href="http://wuhongsheng.top/2017/12/15/TensorFlow%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">安装TensorFlow</a></p>
  </li>
  <li>
    <p>克隆git存储库</p>
  </li>
</ul>

<p>此代码中使用的所有代码都包含在此git存储库中。克隆存储库并cd放入其中。这是我们将要工作的地方。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/googlecodelabs/tensorflow-for-poets-2

cd tensorflow-for-poets-2
</code></pre></div></div>

<ul>
  <li>下载训练图像</li>
</ul>

<p>在开始任何培训之前，您需要一组图像来教授模型有关您想要识别的新课程。我们创建了创作共用许可花卉照片的档案，以供初次使用。通过调用以下两个命令下载照片（218 MB）：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://download.tensorflow.org/example_images/flower_photos.tgz \
    | tar xz -C tf_files
</code></pre></div></div>

<p>你现在应该有一个花卉照片的副本。通过发出以下命令来确认工作目录的内容：</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ls tf_files / flower_photos

daisy/
dandelion/
roses/
sunflowers/
tulip/
LICENSE.txt
</code></pre></div></div>
<ul>
  <li>再训练网络</li>
</ul>

<p><strong>配置你的MobileNet</strong></p>

<p>在这个练习中，我们将重新培训一个MobileNet。MobileNet是一个小型高效卷积神经网络。“卷积”意味着在图像中的每个位置执行相同的计算。</p>

<p>MobileNet可以通过两种方式进行配置：</p>

<p>输入图像分辨率：128,160,192或224px。毫不奇怪，摄入更高分辨率的图像需要更多的处理时间，但会导致更好的分类准确性。
模型的相对大小作为最大的MobileNet的一小部分：1.0,0.75,0.50或0.25。
这个codelab我们将使用224 0.5。</p>

<p>使用推荐的设置，通常只需几分钟即可在笔记本电脑上进行再培训。您将在Linux shell变量中传递设置。在shell中设置这些变量：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>IMAGE_SIZE=224
ARCHITECTURE="mobilenet_0.50_${IMAGE_SIZE}"

# 查看变量
echo $IMAGE_SIZE
224

# 通过发出以下命令来激活该 conda 环境
source activate tensorflow
</code></pre></div></div>
<p><strong>启动TensorBoard</strong></p>

<p>在开始训练之前，tensorboard在后台启动。TensorBoard是一种包含在tensorflow中的监测和检测工具。您将使用它来监控培训进度。</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tensorboard --logdir tf_files/training_summaries &amp;

</code></pre></div></div>
<p><strong>查看再训练脚本</strong></p>

<p>重新训练脚本来自TensorFlow Hub回购，但不作为pip包的一部分进行安装。所以为了简单起见，我将它包含在codelab存储库中。您可以使用该python命令运行脚本。花一点时间浏览一下“帮助”。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python -m scripts.retrain -h

</code></pre></div></div>

<p><strong>运行训练脚本</strong></p>

<p>如引言中所述，ImageNet模型是具有数百万个参数的网络，可以区分大量的类。我们只训练该网络的最后一层，因此训练将在合理的时间内结束。</p>

<p>用一个大命令开始你的再训练（注意–summaries_dir选项，发送训练进度报告到tensorboard监测的目录）：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python -m scripts.retrain \
  --bottleneck_dir = tf_files / bottlenecks \
  --how_many_training_steps = 500 \
  --model_dir = tf_files / models / \
  --summaries_dir = tf_files / training_summaries /“$ {ARCHITECTURE}”\
  --output_graph = tf_files / retrained_graph.pb \
  --output_labels = tf_files / retrained_labels.txt \
  --architecture =“$ {ARCHITECTURE}”\
  --image_dir = tf_files / flower_photos
</code></pre></div></div>

<p>请注意，此步骤需要一段时间。</p>

<p>该脚本下载预先训练好的模型，添加一个新的最终图层，并在您下载的花卉照片上训练该图层。</p>

<p>ImageNet不包括我们在这里培训的任何这些花卉物种。但是，使ImageNet可以区分1,000个类别的信息种类对区分其他对象也很有用。通过使用这个预先训练的网络，我们将这些信息用作最终分类层的输入，以区分我们的花类。</p>

<ul>
  <li>使用再训练模型</li>
</ul>

<p>再训练脚本将数据写入以下两个文件：</p>

<p>tf_files/retrained_graph.pb，其中包含所选网络的一个版本，并在您的类别上重新培训最后一层。
tf_files/retrained_labels.txt，这是一个包含标签的文本文件。</p>

<p><strong>分类图像</strong></p>

<p>codelab repo还包含tensorflow的label_image.py示例的副本，您可以使用它来测试您的网络。花一点时间阅读此脚本的帮助：</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python -m scripts.label_image -h

</code></pre></div></div>
<p>现在，让我们在雏菊的这个图像上运行脚本：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python -m scripts.label_image \
    --graph=tf_files/retrained_graph.pb  \
    --image=tf_files/flower_photos/daisy/21652746_cc379e0eea_m.jpg
</code></pre></div></div>
<p>每次执行都会打印出花标的列表，在大多数情况下，正确的花在顶部（尽管每个重新训练的模型可能略有不同）。</p>

<p>你可能会得到这样的雏菊照片的结果：</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>daisy (score = 0.99071)
sunflowers (score = 0.00595)
dandelion (score = 0.00252)
roses (score = 0.00049)
tulips (score = 0.00032)
</code></pre></div></div>

<ul>
  <li>可选训练参数</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--learning_rate 
#参数控制训练期间最后一层更新的大小(比如0.005，训练需要更长的时间，但总体精度可能会增加。值越高learning_rate，比如1.0，可以训练速度更快，但通常会降低精度，甚至使培训不稳定。)

--summaries_dir 
#是控制张量板中名称的选项。之前我们使用过：
</code></pre></div></div>

<ul>
  <li>根据自己数据进行训练</li>
</ul>

<p>看到脚本处理花图像后，您可以开始观察网络教学以识别不同的类别。</p>

<p>从理论上讲，你需要做的就是运行该工具，指定一组特定的子文件夹。每个子文件夹都按照您的某个类别命名，并仅包含该类别的图像。</p>

<p>如果您完成此步骤并传递子目录的根文件夹作为参数的–image_dir参数，那么脚本应该训练您提供的图像，就像它为花一样。</p>

<p>分类脚本使用文件夹名称作为标签名称，每个文件夹内的图像应该是与该标签对应的图片，如花卉档案中所示：</p>

<p><img src="https://codelabs.tensorflowers.cn/codelabs/tensorflow-for-poets/img/9444bbae4d5d9ab1.png" alt="" /></p>

<h3 id="下一步">下一步</h3>

<p>恭喜，您迈出了深入学习的更大的世界！</p>

<p>您可以在<a href="https://tensorflow.google.cn/">TensorFlow网站</a>或TensorFlow GitHub <a href="https://github.com/tensorflow/">项目</a>中查看有关使用TensorFlow的更多信息。TensorFlow还有许多其他资源，包括<a href="https://groups.google.com/a/tensorflow.org/forum/#!forum/discuss">讨论组</a>和<a href="https://www.tfimgs.cn/resources/pdfs/45166.pdf">白皮书</a>。</p>

<p>如果您有兴趣在移动设备上运行TensorFlow，请尝试本教程的第二部分：有三个版本：</p>

<p><a href="https://codelabs.tensorflowers.cn/codelabs/tensorflow-for-poets-2-tflite/index.html#">TFLite Android</a>
<a href="https://codelabs.tensorflowers.cn/codelabs/tensorflow-for-poets-2-ios/index.html#0">TFLite iOS</a>
<a href="https://codelabs.tensorflowers.cn/codelabs/tensorflow-for-poets-2/index.html#0">TFMobile Android</a></p>

<p>或者去<a href="http://playground.tensorflow.org/#activation=tanh&amp;batchSize=10&amp;dataset=circle&amp;regDataset=reg-plane&amp;learningRate=0.03&amp;regularizationRate=0&amp;noise=0&amp;networkShape=4,2&amp;seed=0.74359&amp;showTestData=false&amp;discretize=false&amp;percTrainData=50&amp;x=true&amp;y=true&amp;xTimesY=false&amp;xSquared=false&amp;ySquared=false&amp;cosX=false&amp;sinX=false&amp;cosY=false&amp;sinY=false&amp;collectStats=false&amp;problem=classification&amp;initZero=false&amp;hideText=false">TensorFlow游乐场</a>玩一下吧！</p>

<h3 id="常见问题及解决方法">常见问题及解决方法</h3>

<p><strong>问题</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>InvalidArgumentError (see above for traceback): Expected image (JPEG, PNG, or GIF), got unknown format starting with '\000\005\026\007\000\002\000\000Mac OS X'
</code></pre></div></div>

<p><strong>解决方法</strong></p>

<h3 id="参考">参考</h3>

<ul>
  <li>
    <p><a href="https://codelabs.tensorflowers.cn/codelabs/tensorflow-for-poets/index.html#0">TensorFlow Codelabs</a></p>
  </li>
  <li>
    <p><a href="https://tensorflow.google.cn/tutorials/image_retraining">retraining tutorial</a></p>
  </li>
  <li>
    <p><a href="https://petewarden.com/2016/02/28/tensorflow-for-poets/">Pete Warden’s TensorFlow for Poets blog</a></p>
  </li>
</ul>


                </div>
                <div class="read-all">
                    <a  href="/2018/06/12/%E4%BD%BF%E7%94%A8TensorFlow%E5%AF%B9%E8%8A%B1%E6%9C%B5%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E5%88%86%E7%B1%BB/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2018/06/01/%E4%BA%A7%E5%93%81%E5%8E%9F%E5%9E%8B%E8%AE%BE%E8%AE%A1/">产品原型设计</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2018-06-01
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#产品" title="Category: 产品" rel="category">产品</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#原型设计" title="Tag: 原型设计" rel="tag">原型设计</a>&nbsp;
    
        <a href="/tag/#产品" title="Tag: 产品" rel="tag">产品</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#google教程" id="markdown-toc-google教程">Google教程</a></li>
</ul>

<h5 id="google教程">Google教程</h5>

<ul>
  <li>
    <p><a href="https://mp.weixin.qq.com/s?__biz=MzAwODY4OTk2Mg==&amp;mid=2652046181&amp;idx=1&amp;sn=50ac9cf4c8b645a64f73335d13094f77&amp;chksm=808ca320b7fb2a36d2013d8722cdad38dba9abea8486ca6c4d841777c7e3b7a729f9e2df45c6&amp;scene=21#wechat_redirect">上篇</a></p>
  </li>
  <li>
    <p><a href="https://mp.weixin.qq.com/s?__biz=MzAwODY4OTk2Mg==&amp;mid=2652046404&amp;idx=1&amp;sn=40757c4cb8abe5ecad83d789923ba87a&amp;chksm=808ca401b7fb2d17a8ddc3c51c83a1b5cbe2c0f57eaef24e6e8db75cae54b13b3d9d51b26fbe&amp;scene=21#wechat_redirect">中篇</a></p>
  </li>
  <li>
    <p><a href="https://mp.weixin.qq.com/s/Zht9agRrayFRgU39XJ6H3g">下篇</a></p>
  </li>
</ul>


                </div>
                <div class="read-all">
                    <a  href="/2018/06/01/%E4%BA%A7%E5%93%81%E5%8E%9F%E5%9E%8B%E8%AE%BE%E8%AE%A1/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
        </ul>



        <!-- Pagination links -->
        <div class="pagination">
          
            <span class="previous disable"><i class="fa fa-angle-double-left"></i></span>
            <span class="previous disable"><i class="fa fa-angle-left"></i></span>
          
          <span class="page_number ">1/8</span>
          
            <a href="/page2" class="next"><i class="fa fa-angle-right"></i></a>
            <a href="/page8" class="next"><i class="fa fa-angle-double-right"></i></a>
          
        </div>
    </div>
    <!-- <button class="anchor"><i class="fa fa-anchor"></i></button> -->
    <div class="right">
        <div class="wrap">
            <div class="side">
                <div>
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    Recent Posts
                </div>
                <ul class="content-ul" recent>
                    
                        <li><a href="/2019/06/17/%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9MVVM%E8%80%8C%E4%B8%8D%E6%98%AFMVP-Android%E6%9E%B6%E6%9E%84/">为什么选择MVVM而不是MVP - Android架构</a></li>
                    
                        <li><a href="/2019/04/23/Linux%E4%BD%BF%E7%94%A8%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/">Linux使用从入门到放弃</a></li>
                    
                        <li><a href="/2019/01/21/Android-Databinding%E4%BD%BF%E7%94%A8/">Android DataBinding使用</a></li>
                    
                        <li><a href="/2018/08/15/Android-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">Android 性能优化</a></li>
                    
                        <li><a href="/2018/06/12/%E4%BD%BF%E7%94%A8TensorFlow%E5%AF%B9%E8%8A%B1%E6%9C%B5%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E5%88%86%E7%B1%BB/">使用TensorFlow对花朵进行简单分类</a></li>
                    
                        <li><a href="/2018/06/01/%E4%BA%A7%E5%93%81%E5%8E%9F%E5%9E%8B%E8%AE%BE%E8%AE%A1/">产品原型设计</a></li>
                    
                        <li><a href="/2018/05/15/ArcGISRuntime-For-Android%E5%BC%80%E5%8F%91/">ArcGISRuntime For Android开发</a></li>
                    
                        <li><a href="/2018/04/20/%E5%B8%B8%E7%94%A8SVN%E5%91%BD%E4%BB%A4/">常用SVN命令及问题</a></li>
                    
                        <li><a href="/2018/03/07/Android-APK%E6%89%93%E5%8C%85/">Android APK打包技巧</a></li>
                    
                        <li><a href="/2018/03/07/AndroidStudio%E6%89%8B%E5%8A%A8%E4%B8%8B%E8%BD%BD%E9%85%8D%E7%BD%AEGradle/">AndroidStudio手动下载配置Gradle</a></li>
                    
                </ul>
            </div>

            <!-- Content -->
            <div class="side ">
                <div>
                    <i class="fa fa-th-list"></i>
                    Categories
                </div>
                <ul class="content-ul" cate>
                    
                    <li>
                        <a href="/category/#jekyll" class="categories-list-item" cate="jekyll">
                            <span class="name">
                                jekyll
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Android" class="categories-list-item" cate="Android">
                            <span class="name">
                                Android
                            </span>
                            <span class="badge">13</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Java" class="categories-list-item" cate="Java">
                            <span class="name">
                                Java
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Markdown" class="categories-list-item" cate="Markdown">
                            <span class="name">
                                Markdown
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Git" class="categories-list-item" cate="Git">
                            <span class="name">
                                Git
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#AI" class="categories-list-item" cate="AI">
                            <span class="name">
                                AI
                            </span>
                            <span class="badge">4</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#MacBook" class="categories-list-item" cate="MacBook">
                            <span class="name">
                                MacBook
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#智能硬件" class="categories-list-item" cate="智能硬件">
                            <span class="name">
                                智能硬件
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#IOS" class="categories-list-item" cate="IOS">
                            <span class="name">
                                IOS
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Kotlin" class="categories-list-item" cate="Kotlin">
                            <span class="name">
                                Kotlin
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#GIS" class="categories-list-item" cate="GIS">
                            <span class="name">
                                GIS
                            </span>
                            <span class="badge">3</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#反编译" class="categories-list-item" cate="反编译">
                            <span class="name">
                                反编译
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Tomcat" class="categories-list-item" cate="Tomcat">
                            <span class="name">
                                Tomcat
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Python" class="categories-list-item" cate="Python">
                            <span class="name">
                                Python
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#jenkins" class="categories-list-item" cate="jenkins">
                            <span class="name">
                                jenkins
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#百度地图" class="categories-list-item" cate="百度地图">
                            <span class="name">
                                百度地图
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#跨平台" class="categories-list-item" cate="跨平台">
                            <span class="name">
                                跨平台
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#SpringBoot" class="categories-list-item" cate="SpringBoot">
                            <span class="name">
                                SpringBoot
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Linux" class="categories-list-item" cate="Linux">
                            <span class="name">
                                Linux
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#DB" class="categories-list-item" cate="DB">
                            <span class="name">
                                DB
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#TensorFlow" class="categories-list-item" cate="TensorFlow">
                            <span class="name">
                                TensorFlow
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#刷机" class="categories-list-item" cate="刷机">
                            <span class="name">
                                刷机
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#代码版本控制" class="categories-list-item" cate="代码版本控制">
                            <span class="name">
                                代码版本控制
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#产品" class="categories-list-item" cate="产品">
                            <span class="name">
                                产品
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <div class="side">
                <div>
                    <i class="fa fa-tags"></i>
                    Tags
                </div>
                <div class="tags-cloud">
                    
                    
                    
                    

                    

                    
                      
                      
                      
                      
                      
                      <a href="/tag/#jekyll" style="font-size: 9pt; color: #999;">jekyll</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#RubyGems" style="font-size: 9pt; color: #999;">RubyGems</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Android" style="font-size: 18pt; color: #000;">Android</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#面试" style="font-size: 9pt; color: #999;">面试</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Java" style="font-size: 9pt; color: #999;">Java</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Markdown" style="font-size: 9pt; color: #999;">Markdown</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Git" style="font-size: 9pt; color: #999;">Git</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#GreenDAO" style="font-size: 9pt; color: #999;">GreenDAO</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#深度学习" style="font-size: 9pt; color: #999;">深度学习</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#机器学习" style="font-size: 9pt; color: #999;">机器学习</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#AI" style="font-size: 11.5pt; color: #777;">AI</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#MacBook" style="font-size: 9pt; color: #999;">MacBook</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#智能硬件" style="font-size: 9pt; color: #999;">智能硬件</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#IOS" style="font-size: 9pt; color: #999;">IOS</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Kotlin" style="font-size: 9pt; color: #999;">Kotlin</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#GIS" style="font-size: 11.5pt; color: #777;">GIS</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#反编译" style="font-size: 9pt; color: #999;">反编译</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Tomcat" style="font-size: 9pt; color: #999;">Tomcat</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Mac" style="font-size: 9pt; color: #999;">Mac</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#服务器" style="font-size: 9pt; color: #999;">服务器</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Python" style="font-size: 10pt; color: #888;">Python</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#数据分析" style="font-size: 9pt; color: #999;">数据分析</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#爬虫" style="font-size: 9pt; color: #999;">爬虫</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#jenkins" style="font-size: 9pt; color: #999;">jenkins</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#CI" style="font-size: 9pt; color: #999;">CI</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#百度地图" style="font-size: 9pt; color: #999;">百度地图</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#ReactNative" style="font-size: 9pt; color: #999;">ReactNative</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#跨平台" style="font-size: 9pt; color: #999;">跨平台</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#SpringBoot" style="font-size: 9pt; color: #999;">SpringBoot</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Contos" style="font-size: 9pt; color: #999;">Contos</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Linux" style="font-size: 10pt; color: #888;">Linux</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Spatialite" style="font-size: 9pt; color: #999;">Spatialite</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Oracle" style="font-size: 9pt; color: #999;">Oracle</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#DB" style="font-size: 9pt; color: #999;">DB</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#TensorFlow" style="font-size: 10.5pt; color: #777;">TensorFlow</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#技能" style="font-size: 9pt; color: #999;">技能</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#性能优化" style="font-size: 9pt; color: #999;">性能优化</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#ArcServer" style="font-size: 9pt; color: #999;">ArcServer</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#AS" style="font-size: 10pt; color: #888;">AS</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Gradle" style="font-size: 10pt; color: #888;">Gradle</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#SVN" style="font-size: 9pt; color: #999;">SVN</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#原型设计" style="font-size: 9pt; color: #999;">原型设计</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#产品" style="font-size: 9pt; color: #999;">产品</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Jetpack" style="font-size: 9pt; color: #999;">Jetpack</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#DataBinding" style="font-size: 9pt; color: #999;">DataBinding</a>
                    
                </div>
            </div>

            <!-- <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul  class="content-ul">

                </ul>
            </div> -->
        </div>
    </div>
</div>
<!-- <script src="/js/scroll.min.js " charset="utf-8"></script> -->
<!-- <script src="/js/pageContent.js " charset="utf-8"></script> -->


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
             本站记录我编程之旅的沿途风景！ 
        </p>
        <p class="contact">
            Contact me at: 
            <a href="https://github.com/wuhongsheng" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a>  
            <a href="mailto:664116298@qq.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a> 
                   
        </p>
        <p>
            本站总访问量<span id="busuanzi_value_site_pv"></span>次，本站访客数<span id="busuanzi_value_site_uv"></span>人次，本文总阅读量<span id="busuanzi_value_page_pv"></span>次
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
            <span>
                 Theme designed by HyG.
            </span>
        </p>
    </div>
</footer>
<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" data-scroll>
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/smooth-scroll.min.js " charset="utf-8"></script>
    <script type="text/javascript">
      smoothScroll.init({
        speed: 500, // Integer. How fast to complete the scroll in milliseconds
        easing: 'easeInOutCubic', // Easing pattern to use
        offset: 20, // Integer. How far to offset the scrolling anchor location in pixels
      });
    </script>
    <!-- <script src=" /js/scroll.min.js " charset="utf-8"></script> -->
   

  </body>

</html>
