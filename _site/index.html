<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>WHS</title>
    <meta name="description" content="">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_8v3czwksspqlg14i.css">
    <link rel="stylesheet" href="/css/main.css ">
    <link rel="canonical" href="http://localhost:4000/">
    <link rel="alternate" type="application/rss+xml" title="WHS" href="http://localhost:4000/feed.xml ">

    <link rel="stylesheet" type="text/css" href="/css/sunburst.css ">
    <script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>

    
    <!--<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=css&amp;skin=sunburst"></script>-->


    <script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?73b6a88ab52561dd17cdc4f6284caaf0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


    <script>
    // google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-96638437-1', 'auto');
      ga('send', 'pageview');

    </script>



<!--google广告-->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6707426947779377",
    enable_page_level_ads: true
  });
</script>
</head>


  <body onload="PR.prettyPrint()">

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">WHS</a>
        <small>GIS Engineer</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a class="active" href="/">
                        
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>Android Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-heart"></i>About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" index>
    <div class="left">
        <h1>Welcome to WHS's Blog!</h1>
        <small>种树，最好的时间是十年前，其次是现在。</small>
        <hr>
        <ul>
            
              <li>
                <h2>
                  <a class="post-link" href="/2020/08/21/bilibili-ijkplayer-%E7%BC%96%E8%AF%91%E5%8F%8A%E5%BA%94%E7%94%A8/">bilibili / ijkplayer 编译及应用</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2020-08-21
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#音视频" title="Category: 音视频" rel="category">音视频</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#音视频" title="Tag: 音视频" rel="tag">音视频</a>&nbsp;
    
        <a href="/tag/#ijkplayer" title="Tag: ijkplayer" rel="tag">ijkplayer</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#项目目录" id="markdown-toc-项目目录">项目目录</a></li>
  <li><a href="#编译环境" id="markdown-toc-编译环境">编译环境</a></li>
  <li><a href="#编译步骤" id="markdown-toc-编译步骤">编译步骤</a></li>
  <li><a href="#扩展支持" id="markdown-toc-扩展支持">扩展支持</a></li>
  <li><a href="#日志过滤" id="markdown-toc-日志过滤">日志过滤</a></li>
  <li><a href="#常见问题" id="markdown-toc-常见问题">常见问题</a></li>
  <li><a href="#扩展截屏录像方法" id="markdown-toc-扩展截屏录像方法">扩展截屏、录像方法</a></li>
  <li><a href="#性能优化" id="markdown-toc-性能优化">性能优化</a></li>
  <li><a href="#公网直播流测试地址" id="markdown-toc-公网直播流测试地址">公网直播流测试地址</a></li>
  <li><a href="#参考链接" id="markdown-toc-参考链接">参考链接</a></li>
</ul>

<p><a href="https://github.com/bilibili/ijkplayer">ijkplayer</a>是B站开源的基于ffplay实现的视频播放器</p>

<h3 id="项目目录">项目目录</h3>
<p>android - android平台上的上层接口封装以及平台相关方法</p>

<p>config - 编译ffmpeg使用的配置文件</p>

<p>extra - 存放编译ijkplayer所需的依赖源文件, 如ffmpeg、openssl等</p>

<p>ijkmedia - 核心代码</p>

<p>ijkj4a - android平台下使用，用来实现c代码调用java层代码，这个文件夹是通过bilibili的另一个开源项目jni4android自动生成的。</p>

<ul>
  <li>
    <p>ijkplayer - 播放器数据下载及解码相关</p>
  </li>
  <li>
    <p>ijksdl - 音视频数据渲染相关</p>
  </li>
</ul>

<p>ios - iOS平台上的上层接口封装以及平台相关方法</p>

<p>tools - 初始化项目工程脚本</p>

<h3 id="编译环境">编译环境</h3>
<ul>
  <li>android-ndk-r10e</li>
  <li>Mac OS X 10.15.4</li>
  <li>Android Studio 4.0
    <h3 id="编译步骤">编译步骤</h3>
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 下载源码</span>
git clone https://github.com/Bilibili/ijkplayer.git ijkplayer-android 
<span class="nb">cd </span>ijkplayer-android
<span class="c"># 切换到最新release分支</span>
git checkout <span class="nt">-B</span> latest k0.8.8        
<span class="c"># 下载ffmpeg等第三方依赖 ffmpeg libyuv soundtouch</span>
./init-android.sh                    
<span class="nb">cd </span>android/contrib
<span class="c"># 清除ffmpeg编译</span>
./compile-ffmpeg.sh clean      
<span class="c"># 编译ffmpeg；all是编译所有平台，一般Android选择编译armv7a，arm64即可(./compile-ffmpeg.sh armv7a|arm64)</span>
./compile-ffmpeg.sh all              
<span class="nb">cd</span> ..
<span class="c"># 编译ijkplayer；all是编译所有平台，一般Android选择编译armv7a，arm64即可(./compile-ijk.sh armv7a|arm64)</span>
./compile-ijk.sh all               
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="扩展支持">扩展支持</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>增加rtsp协议支持
export COMMON_FF_CFG_FLAGS="$COMMON_FF_CFG_FLAGS --enable-demuxer=rtsp"
export COMMON_FF_CFG_FLAGS="$COMMON_FF_CFG_FLAGS --enable-demuxer=sdp"
export COMMON_FF_CFG_FLAGS="$COMMON_FF_CFG_FLAGS --enable-demuxer=rtp"

#默认的ijkplayer 的 ffmpeg 不支持pcm格式的音频，需要重新编译ffmpeg，添加对pcm的支持
export COMMON_FF_CFG_FLAGS="$COMMON_FF_CFG_FLAGS --enable-decoder=pcm_alaw"
export COMMON_FF_CFG_FLAGS="$COMMON_FF_CFG_FLAGS --enable-decoder=pcm_ulaw"
export COMMON_FF_CFG_FLAGS="$COMMON_FF_CFG_FLAGS --enable-decoder=pcm_mulaw"
</code></pre></div></div>

<h3 id="日志过滤">日志过滤</h3>
<p>1.上层播放组件封装
WtVideoView
2.IjkPlayer层
IJKMEDIA</p>

<h3 id="常见问题">常见问题</h3>

<p>1.Could not find tag for codec pcm_alaw in stream #1, codec not currently supported</p>

<p><a href="https://stackoverflow.com/questions/47495713/could-not-find-tag-for-codec-pcm-alaw-in-stream-1-codec-not-currently-supporte">codec not currently supported</a></p>

<p>ffmepg mp4容器不支持pcm_alaw 修改存储容器为mov</p>

<p>2.SDL_Android_NativeWindow_display_l: ANativeWindow_lock: failed -22</p>

<p>软解情况下，界面卡住</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kt">void</span> <span class="nf">setVideoURI</span><span class="o">(</span><span class="nc">Uri</span> <span class="n">uri</span><span class="o">,</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">headers</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">mUri</span> <span class="o">=</span> <span class="n">uri</span><span class="o">;</span>
        <span class="n">mHeaders</span> <span class="o">=</span> <span class="n">headers</span><span class="o">;</span>
        <span class="n">mSeekWhenPrepared</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="c1">//重新设置渲染层</span>
        <span class="n">setRender</span><span class="o">();</span>
        <span class="n">openVideo</span><span class="o">();</span>
        <span class="n">requestLayout</span><span class="o">();</span>
        <span class="n">invalidate</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></div></div>

<p>播放Flv无声音</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Stream #0: not enough frames to estimate rate; consider increasing probesize

IJKMEDIA: Stream
</code></pre></div></div>
<p><a href="https://blog.csdn.net/qq_34420120/article/details/91415061">IjkMediaPlayer 播放无声音Bug</a></p>

<p>因为需要探测视频和音频的格式, 你没声音是在probesize的大小内没获取到音频包, 你可以做的是:</p>

<p>1.增大probesize和analyzeduration
2.修改ffmpeg源码, 在达到probesize大小但还没获取到视频或音频格式的时候自动增大probesize再继续探测
            ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, “probesize”, 1024L * 80);</p>

<p>不支持pcm_alaw</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Could not find codec parameters for stream 1 (Audio: pcm_alaw, 8000 Hz, 1 channels, 64 kb/s): unspecified sample format

</code></pre></div></div>
<p>在module-lite.s中增加支持</p>

<p>手机锁屏后网络中断导致视频中断</p>

<p>开启 前台服务 或者 申请后台服务白名单</p>

<h3 id="扩展截屏录像方法">扩展截屏、录像方法</h3>
<p>1、通过在ffplay层扩至录像及录屏方法，但是不支持硬解下截屏
2、可以在java层使用TextureRenderView获取Bitmap的形式进行截图</p>

<h3 id="性能优化">性能优化</h3>
<p>总延时=采集+编码(缓冲)+发送+传输+接收+解码(缓冲)+播放，你先确认下采集编码端有多少延时</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1">//rtmp秒开配置</span>
 <span class="c1">//设置播放前的最大探测时间 </span>
 <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_FORMAT</span><span class="o">,</span> <span class="s">"analyzemaxduration"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
 <span class="c1">//播放前的探测Size，默认是1M, 改小一点会出画面更快</span>
 <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_FORMAT</span><span class="o">,</span> <span class="s">"probesize"</span><span class="o">,</span> <span class="mi">512L</span><span class="o">);</span>
 <span class="c1">//每处理一个packet之后刷新io上下文</span>
 <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_FORMAT</span><span class="o">,</span> <span class="s">"flush_packets"</span><span class="o">,</span> <span class="mi">1L</span><span class="o">);</span>
            <span class="c1">//是否开启预缓冲，一般直播项目会开启，达到秒开的效果，不过带来了播放丢帧卡顿的体验</span>
            <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"packet-buffering"</span><span class="o">,</span> <span class="mi">0L</span><span class="o">);</span>
            <span class="c1">//跳帧处理,放CPU处理较慢时，进行跳帧处理，保证播放流程，画面和声音同步</span>
            <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"framedrop"</span><span class="o">,</span> <span class="mi">1L</span><span class="o">);</span>
            <span class="c1">//rtmp秒开配置 end</span>
            
            
<span class="c1">//播放rtst流图像延时550ms左右, 这个延迟是否还能有所提升，目前使用的参数配置项如下：TCP 连接</span>
<span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_FORMAT</span><span class="o">,</span> <span class="s">"rtsp_transport"</span><span class="o">,</span> <span class="s">"tcp"</span><span class="o">);</span> 
<span class="c1">//码流分析时间设置，单位为微秒</span>
<span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_FORMAT</span><span class="o">,</span> <span class="s">"analyzeduration"</span><span class="o">,</span><span class="mi">500000L</span><span class="o">);</span> <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"fast"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_CODEC</span><span class="o">,</span> <span class="s">"threads"</span><span class="o">,</span> <span class="s">"auto"</span><span class="o">);</span> <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"infbuf"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_FORMAT</span><span class="o">,</span> <span class="s">"flush_packets"</span><span class="o">,</span> <span class="mi">1L</span><span class="o">);</span> <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"packet-buffering"</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_CODEC</span><span class="o">,</span><span class="s">"skip_loop_filter"</span><span class="o">,</span><span class="mi">48L</span><span class="o">);</span> <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span><span class="s">"framedrop"</span><span class="o">,</span><span class="mi">1</span><span class="o">);</span> 
<span class="c1">//减少缓冲</span>
<span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_FORMAT</span><span class="o">,</span> <span class="s">"fflags"</span><span class="o">,</span> <span class="s">"nobuffer"</span><span class="o">);</span> <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_FORMAT</span><span class="o">,</span> <span class="s">"probesize"</span><span class="o">,</span> <span class="mi">10240L</span><span class="o">);</span> <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span><span class="s">"max-fps"</span><span class="o">,</span><span class="mi">25</span><span class="o">);</span> <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span><span class="s">"reconnect"</span><span class="o">,</span><span class="mi">5</span><span class="o">);</span>




<span class="c1">//RTSP优化 </span>
<span class="c1">//最大帧率</span>
<span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span><span class="s">"max-fps"</span><span class="o">,</span><span class="mi">30</span><span class="o">);</span>
<span class="c1">//不额外优化        </span>
<span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"fast"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
<span class="c1">//探测大小 默认10240          </span>
<span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_FORMAT</span><span class="o">,</span> <span class="s">"probesize"</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span>
            <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_FORMAT</span><span class="o">,</span> <span class="s">"flush_packets"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
            <span class="c1">//pause output until enough packets have been read after stalling</span>
<span class="c1">//是否开启缓冲 </span>
  <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"packet-buffering"</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
<span class="c1">//drop frames when cpu is too slow：0-120   </span>
<span class="c1">//丢帧,默认是1</span>
<span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"framedrop"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
            <span class="c1">//automatically start playing on prepared</span>
            <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"start-on-prepared"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
            <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_CODEC</span><span class="o">,</span> <span class="s">"skip_loop_filter"</span><span class="o">,</span> <span class="mi">48</span><span class="o">);</span><span class="c1">//默认值48</span>
            <span class="c1">//max buffer size should be pre-read：默认为15*1024*1024</span>
            <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"max-buffer-size"</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span><span class="c1">//最大缓存数</span>
            <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"min-frames"</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span><span class="c1">//默认最小帧数2</span>
            <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"max_cached_duration"</span><span class="o">,</span> <span class="mi">30</span><span class="o">);</span><span class="c1">//最大缓存时长</span>
            <span class="c1">//input buffer:don't limit the input buffer size (useful with realtime streams)</span>
            <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_PLAYER</span><span class="o">,</span> <span class="s">"infbuf"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span><span class="c1">//是否限制输入缓存数</span>
            <span class="n">ijkMediaPlayer</span><span class="o">.</span><span class="na">setOption</span><span class="o">(</span><span class="nc">IjkMediaPlayer</span><span class="o">.</span><span class="na">OPT_CATEGORY_FORMAT</span><span class="o">,</span> <span class="s">"fflags"</span><span class="o">,</span> <span class="s">"nobuffer"</span><span class="o">);</span>
</code></pre></div></div>

<h3 id="公网直播流测试地址">公网直播流测试地址</h3>

<p>RTMP协议直播源
香港卫视：rtmp://live.hkstv.hk.lxdns.com/live/hks
RTSP协议直播源</p>
<ul>
  <li>大熊兔（VOD）：rtsp://184.72.239.149/vod/mp4://BigBuckBunny_175k.mov</li>
  <li>国外电视台：rtsp://rtsp-v3-spbtv.msk.spbtv.com/spbtv_v3_1/214_110.sdp</li>
</ul>

<p>HTTP协议直播源
http://live.hkstv.hk.lxdns.com/live/hks/playlist.m3u8</p>

<h3 id="参考链接">参考链接</h3>

<p><a href="https://github.com/Bilibili/ijkplayer">ijkplayer官方地址</a></p>

<p><a href="https://www.jianshu.com/p/496257563f69">ijkplayer中遇到的问题汇总</a></p>

<p><a href="https://github.com/momoxiaoray/ijkplayer">ijkplayer增加截屏和录像方法</a></p>

<p><a href="https://juejin.cn/post/6844904135314128903">音频帧、视频帧及其同步</a></p>


                </div>
                <div class="read-all">
                    <a  href="/2020/08/21/bilibili-ijkplayer-%E7%BC%96%E8%AF%91%E5%8F%8A%E5%BA%94%E7%94%A8/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2019/09/19/%E5%B8%B8%E7%94%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A5JAVA%E4%B8%BA%E4%BE%8B/">常用设计模式（以JAVA为例）</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2019-09-19
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#设计模式" title="Category: 设计模式" rel="category">设计模式</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#设计模式" title="Tag: 设计模式" rel="tag">设计模式</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#基本原则" id="markdown-toc-基本原则">基本原则</a></li>
  <li><a href="#构建型模式" id="markdown-toc-构建型模式">构建型模式</a>    <ul>
      <li><a href="#工厂模式" id="markdown-toc-工厂模式">工厂模式</a></li>
      <li><a href="#单例模式" id="markdown-toc-单例模式">单例模式</a></li>
    </ul>
  </li>
  <li><a href="#结构型模式" id="markdown-toc-结构型模式">结构型模式</a></li>
  <li><a href="#参考资料" id="markdown-toc-参考资料">参考资料</a></li>
</ul>

<p>设计模式的世界丰富多彩，比如生产一个个「产品」的工厂模式，衔接两个不相关接口的适配器模式，用不同的方式做同一件事的策略模式，构建步骤稳定、根据构建过程的不同配置构建出不同对象的建造者模式等。</p>

<p>设计模式一共有 23 种，可以分为构建型模式、结构型模式、行为型模式</p>

<h2 id="基本原则">基本原则</h2>
<p>设计模式基于六大原则：</p>
<ul>
  <li>
    <p>开闭原则：一个软件实体如类、模块和函数应该对修改封闭，对扩展开放。</p>
  </li>
  <li>
    <p>单一职责原则：一个类只做一件事，一个类应该只有一个引起它修改的原因。</p>
  </li>
  <li>
    <p>里氏替换原则：子类应该可以完全替换父类。也就是说在使用继承时，只扩展新功能，而不要破坏父类原有的功能。</p>
  </li>
  <li>
    <p>依赖倒置原则：细节应该依赖于抽象，抽象不应依赖于细节。把抽象层放在程序设计的高层，并保持稳定，程序的细节变化由低层的实现层来完成。</p>
  </li>
  <li>
    <p>迪米特法则：又名「最少知道原则」，一个类不应知道自己操作的类的细节，换言之，只和朋友谈话，不和朋友的朋友谈话。</p>
  </li>
  <li>
    <p>接口隔离原则：客户端不应依赖它不需要的接口。如果一个接口在实现时，部分方法由于冗余被客户端空实现，则应该将接口拆分，让实现类只需依赖自己需要的接口方法。</p>
  </li>
</ul>

<h2 id="构建型模式">构建型模式</h2>
<ul>
  <li>工厂方法模式</li>
  <li>抽象工厂模式</li>
  <li>单例模式</li>
  <li>建造型模式</li>
  <li>原型模式
    <h4 id="工厂模式">工厂模式</h4>
  </li>
  <li>简单工厂模式
优点：
1.调用方无需知道 Apple 、Pear 类，降低耦合
2.当Apple 、Pear 类构造变得复杂时，调用方无需关心</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FruitFactory</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">Fruit</span> <span class="nf">create</span><span class="o">(</span><span class="nc">String</span> <span class="n">type</span><span class="o">){</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">type</span><span class="o">){</span>
            <span class="k">case</span> <span class="s">"苹果"</span><span class="o">:</span> <span class="k">return</span> <span class="k">new</span> <span class="nc">Apple</span><span class="o">();</span>
            <span class="k">case</span> <span class="s">"梨子"</span><span class="o">:</span> <span class="k">return</span> <span class="k">new</span> <span class="nc">Pear</span><span class="o">();</span>
            <span class="k">default</span><span class="o">:</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">IllegalArgumentException</span><span class="o">(</span><span class="s">"暂时没有这种水果"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>工厂方法模式</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppleFactory</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">Fruit</span> <span class="nf">create</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Apple</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PearFactory</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">Fruit</span> <span class="nf">create</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Pear</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<ul>
  <li>抽象工厂方法模式</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">IFactory</span> <span class="o">{</span>
    <span class="nc">Fruit</span> <span class="nf">create</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppleFactory</span> <span class="kd">implements</span> <span class="nc">IFactory</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Fruit</span> <span class="nf">create</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Apple</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PearFactory</span> <span class="kd">implements</span> <span class="nc">IFactory</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Fruit</span> <span class="nf">create</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Pear</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="单例模式">单例模式</h4>
<p>单例模式非常常见，某个对象全局只需要一个实例时，就可以使用单例模式。它的优点也显而易见：</p>
<ul>
  <li>它能够避免对象重复创建，节约空间并提升效率</li>
  <li>避免由于操作不同实例导致的逻辑错误</li>
</ul>

<p>单例模式有两种实现方式：饿汉式和懒汉式。</p>
<ul>
  <li>饿汉式</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span>
  
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">Singleton</span> <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Singleton</span><span class="o">();</span>

    <span class="kd">private</span> <span class="nf">Singleton</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Singleton</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<ul>
  <li>懒汉式
懒汉式解决了饿汉式的弊端，好处是按需加载，避免了内存浪费，减少了类初始化时间。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span>
  
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">Singleton</span> <span class="n">instance</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
  
    <span class="kd">private</span> <span class="nf">Singleton</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Singleton</span> <span class="nf">getInstance</span><span class="o">(){</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Singleton</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>双检锁方式
双检锁方式实现的线程安全的单例模式</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">Singleton</span> <span class="n">instance</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nf">Singleton</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Singleton</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">synchronized</span> <span class="o">(</span><span class="nc">Singleton</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Singleton</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>静态内部类方式
利用java虚拟机类加载机制实现线程安全懒汉式单例模式</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SingletonHolder</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Singleton</span> <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Singleton</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nf">Singleton</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Singleton</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">SingletonHolder</span><span class="o">.</span><span class="na">instance</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="结构型模式">结构型模式</h2>

<ul>
  <li>适配器模式</li>
  <li>桥接模式</li>
  <li>组合模式</li>
  <li>装饰模式</li>
  <li>外观模式</li>
  <li>享元模式</li>
  <li>代理模式</li>
</ul>

<h2 id="参考资料">参考资料</h2>

<p><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzI4Mzc5NDk4MA==&amp;action=getalbum&amp;album_id=1461125104968318982&amp;scene=173&amp;from_msgid=2247486859&amp;from_itemidx=1&amp;count=3#wechat_redirect">LeetCode设计模式</a></p>

<p><a href="https://mp.weixin.qq.com/s/QWM079Z_zoU_2WxsMxw48g">如何用「设计模式」制作珍珠奶茶？</a></p>

<p><a href="https://mp.weixin.qq.com/s/0PTiheUOw3FKJ6kKFZte-Q">详解设计模式之结构型模式（上）</a></p>

                </div>
                <div class="read-all">
                    <a  href="/2019/09/19/%E5%B8%B8%E7%94%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A5JAVA%E4%B8%BA%E4%BE%8B/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2019/07/25/Flutter%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/">Flutter从入门到放弃</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2019-07-25
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Flutter" title="Category: Flutter" rel="category">Flutter</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Flutter" title="Tag: Flutter" rel="tag">Flutter</a>&nbsp;
    
        <a href="/tag/#跨平台" title="Tag: 跨平台" rel="tag">跨平台</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#开发环境搭建" id="markdown-toc-开发环境搭建">开发环境搭建</a></li>
  <li><a href="#常用知识点" id="markdown-toc-常用知识点">常用知识点</a></li>
  <li><a href="#常用包和插件" id="markdown-toc-常用包和插件">常用包和插件</a></li>
  <li><a href="#as插件" id="markdown-toc-as插件">AS插件</a></li>
  <li><a href="#常见问题" id="markdown-toc-常见问题">常见问题</a></li>
  <li><a href="#相关资源" id="markdown-toc-相关资源">相关资源</a></li>
</ul>

<p><a href="https://github.com/flutter/flutter">Flutter</a>是Google推出的跨平台的SDK，可通过单一代码库为移动，网络和台式机打造精美，快速的用户体验。Flutter可与现有代码配合使用，为世界各地的开发人员和组织所使用，并且是免费的开放源代码。</p>

<h2 id="开发环境搭建">开发环境搭建</h2>

<ol>
  <li><a href="https://flutter.dev/docs/get-started/install">安装</a></li>
  <li>常用命令
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 配置镜像</span>
<span class="nb">export </span><span class="nv">PUB_HOSTED_URL</span><span class="o">=</span>https://pub.flutter-io.cn
<span class="nb">export </span><span class="nv">FLUTTER_STORAGE_BASE_URL</span><span class="o">=</span>https://storage.flutter-io.cn
<span class="c"># 检查</span>
flutter doctor
<span class="c"># 查看flutter 处于什么分支上</span>
flutter channel 
<span class="c"># 切换分支</span>
flutter channel master
<span class="c"># 启用web配置</span>
flutter config <span class="nt">--enable-web</span>
<span class="c"># 更新</span>
flutter upgrade
<span class="c"># 安装包</span>
flutter pub get
<span class="c"># 创建一个module</span>
<span class="nb">cd </span>some/path/
flutter create <span class="nt">-t</span> module <span class="nt">--org</span> com.example my_flutter
<span class="c"># 检查Android许可</span>
flutter doctor <span class="nt">--android-licenses</span>
<span class="c"># clean</span>
flutter clean
<span class="c"># run</span>
flutter run <span class="nt">-v</span>
<span class="c"># 检查发布文件</span>
flutter packages pub publish <span class="nt">--dry-run</span>
<span class="c"># 发布包</span>
flutter packages pub publish
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="常用知识点">常用知识点</h2>
<p><a href="https://flutter.dev/docs/development/tools/devtools/debugger">Debugger</a>
<a href="https://www.jianshu.com/p/c0e30769ea7e">Flutter的Future异步详解</a>
<a href="https://flutterchina.club/developing-packages/">插件开发</a>
<a href="https://www.jianshu.com/p/96e1ae828b13"> 图解 Flutter 基本动画 (一)</a></p>
<h2 id="常用包和插件">常用包和插件</h2>
<p><a href="https://github.com/flutter/plugins">官方维护的组件库</a></p>
<ul>
  <li>网络请求
<a href="https://pub.flutter-io.cn/packages/http">http</a>
<a href="https://github.com/flutterchina/dio">dio</a></li>
  <li>推送
<a href="https://pub.flutter-io.cn/packages/jpush_flutter">jpush_flutter</a></li>
  <li>数据持久化
<a href="https://pub.dev/packages/shared_preferences">shared_preferences</a></li>
  <li>路由
<a href="https://github.com/theyakka/fluro">fluro</a></li>
  <li>UI
<a href="https://github.com/PonnamKarthik/FlutterToast">FlutterToast</a>
<a href="https://github.com/OpenFlutter/flutter_screenutil/blob/master/README_CN.md">flutter_screenutil</a>
<a href="https://pub.flutter-io.cn/packages/city_pickers">city_pickers</a></li>
  <li>其他
<a href="https://pub.flutter-io.cn/packages/uuid">uuid</a>
<a href="https://pub.dev/packages/json_serializable">json_serializable</a></li>
</ul>

<h2 id="as插件">AS插件</h2>
<ul>
  <li>FlutterJsonBeanFactory
json转对象
    <h2 id="常见问题">常见问题</h2>
  </li>
  <li>更新失败</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...nloading Dart SDK from Flutter engine b863200c37df4ed378042de11c4e9ff34e4e58c9
curl: (3) URL using bad/illegal format or missing URL

Failed to retrieve the Dart SDK from: https://storage.googleapis.com/flutter_infra/flutter/b863200c37df4ed378042de11c4e9ff/dart-sdk-darwin-x64.zip
If you're located in China, please see this page:
  https://flutter.dev/community/china
</code></pre></div></div>
<p>需要将Dart SDK 解压到Flutter安装目录下</p>

<ul>
  <li>gradle构建失败
```
Process ‘command ‘/Users/whs/Flutter_workspace/flutter/bin/flutter’’ finished with non-zero exit value 1</li>
</ul>

<p>```
flutter run -v 查看原因
androidx 和 support库冲突</p>

<h2 id="相关资源">相关资源</h2>
<ul>
  <li><a href="https://www.youtube.com/watch?v=UUfXWzp0-DU">Flutter Rendering</a></li>
  <li><a href="https://github.com/flutter/engine">Flutter Engine</a></li>
  <li>Documentation: https://docs.flutter.io/</li>
  <li>Github: https://github.com/flutter/flutter</li>
  <li>StackOverflow: https://stackoverflow.com/questions/tagged/flutter</li>
  <li>Gitter: https://gitter.im/flutter/flutter
Effective Dart Guide: https://www.dartlang.org/guides/language/effective-dart</li>
  <li>Dart Tips: https://www.dartlang.org/resources/dart-tips</li>
  <li>Flutter FAQ: https://flutter.io/faq/</li>
  <li>Flutter Rendering:</li>
  <li><a href="https://flutter.io/hot-reload/">Hot Reload</a></li>
  <li>Flutter Inspector: https://dart-lang.github.io/observatory/</li>
  <li>Dart Style Guide: https://www.dartlang.org/guides/language/effective-dart/style</li>
  <li>Dart Observatory: https://dart-lang.github.io/observatory/</li>
  <li>Flutter Widgets: https://flutter.io/widgets/</li>
  <li>Flutter Gallery App Code: https://github.com/flutter/flutter/tree/master/examples/flutter_gallery</li>
  <li>Flutter Gallery Android App: https://play.google.com/store/apps/details?id=io.flutter.demo.gallery</li>
  <li>Flutter Layout: https://flutter.io/tutorials/layout/</li>
  <li>Material: https://material.io</li>
  <li>Icons: https://thenounproject.com</li>
  <li>Images: https://unsplash.com</li>
  <li>Fonts: https://fonts.google.com</li>
  <li>Google APIs: https://pub.dartlang.org/packages/googleapis</li>
  <li>Async and Futures: https://www.dartlang.org/tutorials/language/futures</li>
  <li>Testing: https://flutter.io/testing/</li>
</ul>


                </div>
                <div class="read-all">
                    <a  href="/2019/07/25/Flutter%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2019/06/17/%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9MVVM%E8%80%8C%E4%B8%8D%E6%98%AFMVP-Android%E6%9E%B6%E6%9E%84/">为什么选择MVVM而不是MVP - Android架构</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2019-06-17
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Android" title="Category: Android" rel="category">Android</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Android" title="Tag: Android" rel="tag">Android</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#mvc" id="markdown-toc-mvc">MVC</a></li>
  <li><a href="#mvp" id="markdown-toc-mvp">MVP</a></li>
  <li><a href="#mvvm" id="markdown-toc-mvvm">MVVM</a></li>
  <li><a href="#mvvm其实与mvp架构看起来很相似" id="markdown-toc-mvvm其实与mvp架构看起来很相似">MVVM其实与MVP架构看起来很相似</a></li>
  <li><a href="#代码示例" id="markdown-toc-代码示例">代码示例</a></li>
</ul>

<p>Android本身被写成MVC，其中Activity或多或少地负责所有事情。对于可能足够的简单应用，但随着复杂性的增加，问题的数量和水平也会提高。
现在有许多不同的架构方法，如MVP，FLUX，MVI，MVVM等，它们在解决上述问题方面证明是富有成效的。只要代码可维护，我们就可以使用任何方法，我们能够快速适应变化，一切运行良好，简而言之就是开发人员的快乐生活。</p>

<h6 id="mvc">MVC</h6>
<p>传统的Android App其实都是基于MVC的，Activity，Fragment相当于C,布局相当于V,数据逻辑相当于M
随着业务的增长Controller里的代码会越来越臃肿，因为它不只要负责业务逻辑，还要控制View的展示。也就是说Activity、Fragment杂糅了Controller和View，耦合变大。并不能算作真正意义上的MVC。</p>

<p><img src="http://www.jcodecraeer.com/uploads/20160414/1460565635729862.png" alt="" /></p>

<pre><code class="language-mermaid">graph LR
B(CONTROLLER) --&gt; C(MODEL)
C(MODEL) --&gt; A(VIEW)
A(VIEW) --&gt; C(MODEL)
A(VIEW) --&gt; B(CONTROLLER)
</code></pre>

<h6 id="mvp">MVP</h6>
<p>MVP架构其实可以说与MVC的架构还是有很大的差别的，数据逻辑相当于M，Activity（负责View的绘制以及与用户交互）相当于V ，View于Model间的交互则为P其实最明显的区别就是，MVC中是允许Model和View进行交互的，而MVP中很明显，Model与View之间的交互由Presenter完成。还有一点就是Presenter与View之间的交互是通过接口的</p>

<p><img src="http://www.jcodecraeer.com/uploads/20160414/1460565637114968.png" alt="" /></p>

<pre><code class="language-mermaid">graph LR
A(VIEW)--&gt; B(PRESENTER)
B(PRESENTER) --&gt; A(VIEW)
B(PRESENTER) --&gt; C(MODEL)
C(MODEL) --&gt; B(PRESENTER)
</code></pre>

<ul>
  <li>缺点
    <ol>
      <li>紧耦合
对于每个活动/片段（视图），我们需要一个Presenter。这是一个硬约束规则。Presenter保存对Activity和Activity的引用保留对presenter的引用。1：1的关系，这就是最大问题所在。
随着视图复杂性的增加，这种关系的维护和处理也会增加。
这最终会导致我们之前遇到的同样问题，因为设计的快速变化，我们实际上需要修改整个关系。
从我们的最终目标“以分布式方式构建事物”中挑选一个声明，为了实现它并避免这种紧密关系，ViewModels被引入。
ViewModels是与逻辑/模型层交互的简单类，只是暴露状态/数据，实际上不知道该数据将由谁或如何使用。只有View（Activity）保存对ViewModel的引用，反之亦然，这解决了我们的紧耦合问题。单个视图可以保存对多个ViewModel的引用。
即使对于复杂的视图，我们实际上可以在同一层次结构中具有不同的ViewModel</li>
      <li>可测性
由于Presenters很难绑定视图，因此编写单元测试变得有点困难，因为View具有依赖性。
ViewModels甚至更加单元测试友好，因为它们只是暴露状态，因此可以独立测试而无需测试数据的消耗方式，简而言之，View不依赖于View。
这是两个主要的选择，使选择明确。可能有更多或可能没有。以下评论正在等待!! 😄</li>
    </ol>
  </li>
</ul>

<h6 id="mvvm">MVVM</h6>
<p>MVVM是Model-View-ViewModel的简写. 它是有三个部分组成：Model、View、ViewModel。Model：数据模型层。包含业务逻辑和校验逻辑,View：屏幕上显示的UI界面（layout、views）,ViewModel：View和Model之间的链接桥梁，处理视图逻辑。
当View有用户输入后，ViewModel通知Model更新数据，同理Model数据更新后，ViewModel通知View更新。</p>

<pre><code class="language-mermaid">graph LR
A(VIEW) --binding--- B(VIEWMODEL)
B(VIEWMODEL) --&gt; C(MODEL)
C(MODEL) --&gt; B(VIEWMODEL)
</code></pre>

<h3 id="mvvm其实与mvp架构看起来很相似">MVVM其实与MVP架构看起来很相似</h3>
<p><img src="https://upload-images.jianshu.io/upload_images/1605450-40b99f4f565fe170.png?imageMogr2/auto-orient/" alt="" /></p>

<h3 id="代码示例">代码示例</h3>

<ul>
  <li>MVVM</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * @author whs
 * @date 2019/3/29
 * 清障救援
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RescueActivity</span> <span class="kd">extends</span> <span class="nc">WtActivity</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="nc">ActivityRescueBinding</span> <span class="n">mBinding</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">RescueViewModel</span> <span class="n">mViewModel</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">mBinding</span> <span class="o">=</span> <span class="nc">DataBindingUtil</span><span class="o">.</span><span class="na">setContentView</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_rescue</span><span class="o">);</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">toolbar</span><span class="o">.</span><span class="na">setNavigationOnClickListener</span><span class="o">(</span><span class="n">view</span> <span class="o">-&gt;</span> <span class="n">onBackPressed</span><span class="o">());</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">tvTitle</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">getString</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">string</span><span class="o">.</span><span class="na">rescue</span><span class="o">));</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">ivRight</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="nc">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">ivRight</span><span class="o">.</span><span class="na">setImageResource</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">orders</span><span class="o">);</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">ivRight</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="nc">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">mViewModel</span><span class="o">.</span><span class="na">getTaskNum</span><span class="o">().</span><span class="na">getValue</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="nc">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Intent</span><span class="o">(</span><span class="nc">RescueActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="nc">ClearingActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                    <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="n">mViewModel</span><span class="o">.</span><span class="na">message</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="s">"暂无新任务"</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">mViewModel</span> <span class="o">=</span> <span class="nc">ViewModelProviders</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="k">this</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="nc">RescueViewModel</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

        <span class="n">init</span><span class="o">(</span><span class="n">mViewModel</span><span class="o">);</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">setViewModel</span><span class="o">(</span><span class="n">mViewModel</span><span class="o">);</span>
        <span class="n">mBinding</span><span class="o">.</span><span class="na">setLifecycleOwner</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">mViewModel</span><span class="o">.</span><span class="na">loadClearTaskNum</span><span class="o">();</span>

        <span class="c1">// Check that the activity is using the layout version with</span>
        <span class="c1">// the fragment_container FrameLayout</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">mBinding</span><span class="o">.</span><span class="na">flContent</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// However, if we're being restored from a previous state,</span>
            <span class="c1">// then we don't need to do anything and should return or else</span>
            <span class="c1">// we could end up with overlapping fragments.</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">savedInstanceState</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">getSupportFragmentManager</span><span class="o">().</span><span class="na">beginTransaction</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">fl_content</span><span class="o">,</span> <span class="nc">TaskFragment</span><span class="o">.</span><span class="na">getFragment</span><span class="o">()).</span><span class="na">commit</span><span class="o">();</span>


        <span class="o">}</span>

    <span class="o">}</span>
<span class="o">}</span>



<span class="cm">/**
 * Created by whs on 2019/3/27
 * 清障救援
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RescueViewModel</span> <span class="kd">extends</span> <span class="nc">BaseViewModel</span> <span class="o">{</span>

    <span class="cm">/**请障救援任务数量*/</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">MutableLiveData</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">mTaskNum</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MutableLiveData</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="nc">MutableLiveData</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="nf">getTaskNum</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">mTaskNum</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**
     * 获取清障救援任务数
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">loadClearTaskNum</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">webApi</span><span class="o">.</span><span class="na">getClearRescueTaskNum</span><span class="o">().</span><span class="na">enqueue</span><span class="o">(</span><span class="k">new</span> <span class="nc">BaseCallBack</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;(</span><span class="s">"救援任务"</span><span class="o">,</span><span class="k">this</span><span class="o">)</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onResponse</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">mTaskNum</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>


</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;layout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">xmlns:tools=</span><span class="s">"http://schemas.android.com/tools"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;data&gt;</span>
        <span class="nt">&lt;import</span> <span class="na">type=</span><span class="s">"android.view.View"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;import</span> <span class="na">type=</span><span class="s">"androidx.core.content.ContextCompat"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;variable</span>
            <span class="na">name=</span><span class="s">"viewModel"</span>
            <span class="na">type=</span><span class="s">"com.wtkj.baseproduct.ui.rescue.RescueViewModel"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/data&gt;</span>

    <span class="nt">&lt;androidx.constraintlayout.widget.ConstraintLayout</span>
        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
        <span class="na">android:layout_height=</span><span class="s">"match_parent"</span><span class="nt">&gt;</span>

        <span class="nt">&lt;androidx.appcompat.widget.Toolbar</span>
            <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span>
            <span class="na">android:id=</span><span class="s">"@+id/toolbar"</span>
            <span class="na">android:gravity=</span><span class="s">"center"</span>
            <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
            <span class="na">app:navigationIcon=</span><span class="s">"@drawable/ic_back"</span>
            <span class="na">android:layout_height=</span><span class="s">"?attr/actionBarSize"</span>
            <span class="na">android:background=</span><span class="s">"@color/header_black"</span>
            <span class="na">app:popupTheme=</span><span class="s">"@style/AppTheme.PopupOverlay"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;TextView</span>
                <span class="na">android:id=</span><span class="s">"@+id/tv_title"</span>
                <span class="na">android:textColor=</span><span class="s">"@color/white"</span>
                <span class="na">android:layout_gravity=</span><span class="s">"center"</span>
                <span class="na">android:textSize=</span><span class="s">"20sp"</span>
                <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span> <span class="nt">/&gt;</span>

            <span class="nt">&lt;TextView</span>
                <span class="na">android:id=</span><span class="s">"@+id/tv_right"</span>
                <span class="na">android:textColor=</span><span class="s">"@color/colorAccent"</span>
                <span class="na">android:layout_gravity=</span><span class="s">"right"</span>
                <span class="na">android:layout_marginEnd=</span><span class="s">"10dp"</span>
                <span class="na">android:textSize=</span><span class="s">"12sp"</span>
                <span class="na">android:text=</span><span class="s">"@string/title"</span>
                <span class="na">android:visibility=</span><span class="s">"gone"</span>
                <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span> <span class="nt">/&gt;</span>

            <span class="nt">&lt;ImageView</span>
                <span class="na">android:id=</span><span class="s">"@+id/iv_right"</span>
                <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_height=</span><span class="s">"?attr/actionBarSize"</span>
                <span class="na">android:layout_gravity=</span><span class="s">"right"</span>
                <span class="na">android:gravity=</span><span class="s">"center"</span>
                <span class="na">android:padding=</span><span class="s">"12dp"</span>
                <span class="na">android:visibility=</span><span class="s">"visible"</span>
                <span class="na">android:layout_marginEnd=</span><span class="s">"8dp"</span>
                <span class="na">android:src=</span><span class="s">"@mipmap/orders"</span>
                <span class="nt">&gt;</span>
            <span class="nt">&lt;/ImageView&gt;</span>
        <span class="nt">&lt;/androidx.appcompat.widget.Toolbar&gt;</span>
        <span class="nt">&lt;TextView</span>
            <span class="na">android:id=</span><span class="s">"@+id/tv_notify"</span>
            <span class="na">android:layout_width=</span><span class="s">"20dp"</span>
            <span class="na">android:layout_height=</span><span class="s">"20dp"</span>
            <span class="na">android:layout_gravity=</span><span class="s">"right"</span>
            <span class="na">android:layout_margin=</span><span class="s">"10dp"</span>
            <span class="na">android:background=</span><span class="s">"@drawable/background_notify_circle_red"</span>
            <span class="na">android:gravity=</span><span class="s">"center"</span>
            <span class="na">android:textColor=</span><span class="s">"@color/white"</span>
            <span class="na">android:textSize=</span><span class="s">"12sp"</span>
            <span class="na">android:visibility=</span><span class="s">"@{viewModel.taskNum &gt; 0 ? View.VISIBLE : View.GONE}"</span>
            <span class="na">android:text=</span><span class="s">"@{String.valueOf(viewModel.taskNum)}"</span>
            <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
            <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;FrameLayout</span>
            <span class="na">android:id=</span><span class="s">"@+id/fl_content"</span>
            <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
            <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
            <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
            <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/toolbar"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span>
<span class="nt">&lt;/layout&gt;</span>
</code></pre></div></div>


                </div>
                <div class="read-all">
                    <a  href="/2019/06/17/%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9MVVM%E8%80%8C%E4%B8%8D%E6%98%AFMVP-Android%E6%9E%B6%E6%9E%84/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2019/04/23/Linux%E4%BD%BF%E7%94%A8%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/">Linux使用从入门到放弃</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2019-04-23
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Linux" title="Category: Linux" rel="category">Linux</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Linux" title="Tag: Linux" rel="tag">Linux</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#常用命令" id="markdown-toc-常用命令">常用命令</a>    <ul>
      <li><a href="#mac-常用命令" id="markdown-toc-mac-常用命令">mac 常用命令</a></li>
    </ul>
  </li>
  <li><a href="#环境部署" id="markdown-toc-环境部署">环境部署</a>    <ul>
      <li><a href="#配置java环境" id="markdown-toc-配置java环境">配置Java环境</a></li>
      <li><a href="#linux下安装gradle" id="markdown-toc-linux下安装gradle">Linux下安装Gradle</a></li>
      <li><a href="#安装android-sdk" id="markdown-toc-安装android-sdk">安装Android SDK</a></li>
      <li><a href="#常见问题" id="markdown-toc-常见问题">常见问题</a></li>
    </ul>
  </li>
</ul>

<h2 id="常用命令">常用命令</h2>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 远程连接服务器</span>
ssh <span class="nt">-X</span> username@192.168.1.233
password
<span class="c"># 文件下载</span>
wget 下载地址
wget <span class="nt">-P</span> 指定目录 下载地址

<span class="c"># 解压文件</span>
<span class="c"># 解压zip</span>
unzip <span class="nt">-d</span> /opt/gradle gradle-4.6-bin.zip 
<span class="c"># 解压tgz</span>
<span class="nb">tar   </span>zxvf   /opt/dev/android-sdk_r24.4.1-linux.tgz  <span class="nt">-C</span> /usr//local/AndroidSDK
<span class="c"># tar.gz文件</span>
<span class="nb">tar</span> <span class="nt">-xvf</span> 文件路径
<span class="c"># 列出home下面所有一级目录的一级目录文件大小。</span>
<span class="nb">du</span> <span class="nt">-h</span> <span class="nt">--max-depth</span><span class="o">=</span>1 /home/<span class="k">*</span> 
<span class="c"># 显示指定磁盘文件的可用空间</span>
<span class="nb">df</span> <span class="nt">-h</span> 
<span class="c"># 内存使用情况</span>
free <span class="nt">-m</span>
<span class="c"># 获取文件完整路径</span>
find /Users/whs <span class="nt">-name</span> keras.json
<span class="c"># 查看安装程序的路径</span>
which libtool
<span class="c"># 查看Qd开头的服务</span>
ps <span class="nt">-aux</span> |grep Qd
<span class="c"># 进入当前用户目录</span>
<span class="nb">cd</span> <span class="c">#</span>
<span class="nb">cd</span> ~/[path]
</code></pre></div></div>

<h3 id="mac-常用命令">mac 常用命令</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 重置HomeBrew环境</span>
brew update-reset
<span class="c"># 安装svn</span>
brew <span class="nb">install </span>svn
</code></pre></div></div>

<h2 id="环境部署">环境部署</h2>

<h4 id="配置java环境">配置Java环境</h4>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home
 <span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$JAVA_HOME</span>/bin:<span class="nv">$PATH</span>:
</code></pre></div></div>
<h4 id="linux下安装gradle">Linux下安装Gradle</h4>
<ol>
  <li>下载
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://services.gradle.org/distributions/gradle-5.1.1-all.zip
</code></pre></div>    </div>
  </li>
  <li>解压
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unzip <span class="nt">-d</span> /opt/gradle gradle-4.6-bin.zip 
</code></pre></div>    </div>
  </li>
  <li>环境变量配置
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 打开配置文件</span>
vim /etc/profile
<span class="c"># 配置环境变量</span>
<span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/local/gradle/gradle-5.1.1/bin
<span class="c"># 保存退出后刷新配置文件</span>
<span class="nb">source</span> /etc/profile
<span class="c"># 检验安装结果</span>
gradle <span class="nt">--version</span>
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="安装android-sdk">安装Android SDK</h4>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">ANDROID_HOME</span><span class="o">=</span>/usr/local/AndroidSDK/android-sdk-linux
<span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$ANDROID_HOME</span>/tools
<span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$ANDROID_HOME</span>/platform-tools
<span class="c"># 检验安装结果</span>
android <span class="nt">-h</span>
<span class="c"># 查看可用组建</span>
android list sdk <span class="nt">--all</span>
<span class="c"># 下载需要的组件, 注意--all 这个参数一定要加上, 否则后面filter里的序号不起作用, 例如我用的是</span>
android update sdk <span class="nt">-u</span> <span class="nt">--all</span> <span class="nt">--filter</span> 1,2,4,5,47
</code></pre></div></div>

<h4 id="常见问题">常见问题</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/bin/sh^M: bad interpreter: No such file or directory

env: bash\r: No such file or directory
</code></pre></div></div>
<p>执行命令时有时会出现bad interpreter: No such file or directory错误，
一般是因为Linux无法识别出Windows的DOS格式，此时只需将文件格式转换成unix的即可，方法如下：</p>

<p>1、编辑出错文件
vi filename</p>

<p>2、查看该格式（报错文件格式是DOS）
:set ff</p>

<p>3、修改格式
:set ff=unix</p>

<p>4、保存退出
:wq!
或者用dos2unix 转换</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> dos2unix ./init-android-libyuv.sh ./init-android-soundtouch.sh
 #对当前目录批量处理
 find . -type f -exec dos2unix {} \;
</code></pre></div></div>

                </div>
                <div class="read-all">
                    <a  href="/2019/04/23/Linux%E4%BD%BF%E7%94%A8%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2019/04/18/Gradle%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/">Gradle从入门到放弃</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2019-04-18
                    </div>
                    <div class="label-card">
                        <i class="fa fa-user"></i>WHS
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Gradle" title="Category: Gradle" rel="category">Gradle</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#Gradle" title="Tag: Gradle" rel="tag">Gradle</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#常用命令" id="markdown-toc-常用命令">常用命令</a></li>
  <li><a href="#常用脚本" id="markdown-toc-常用脚本">常用脚本</a></li>
  <li><a href="#常见的问题" id="markdown-toc-常见的问题">常见的问题</a></li>
  <li><a href="#参考链接" id="markdown-toc-参考链接">参考链接</a></li>
</ul>

<p>Gradle是一个基于Apache Ant和Apache Maven概念的项目自动化构建开源工具。它使用一种基于Groovy的特定领域语言(DSL)来声明项目设置，抛弃了基于XML的各种繁琐配置。
面向Java应用为主。当前其支持的语言限于Java、Groovy、Kotlin和Scala，计划未来将支持更多的语言。
<a href="https://services.gradle.org/distributions/">官方下载地址</a></p>

<h3 id="常用命令">常用命令</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 执行 java 单元测试</span>
gradle app:test
<span class="c"># 执行 android 单元测试</span>
gradle app:connectedAndroidTest
<span class="c"># 查看编译时依赖树</span>
gradle app:dependencies <span class="nt">--configuration</span> compile
<span class="c"># 查manifest merge问题</span>
gradle processReleaseManifest <span class="nt">--stacktrace</span>
<span class="c"># g</span>
</code></pre></div></div>

<h3 id="常用脚本">常用脚本</h3>

<div class="language-gradle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//生成时间</span>
<span class="kt">def</span> <span class="nf">releaseTime</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">BuildType</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s2">"release"</span><span class="o">)){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Date</span><span class="o">().</span><span class="na">format</span><span class="o">(</span><span class="s2">"yyyyMMdd"</span><span class="o">,</span> <span class="n">TimeZone</span><span class="o">.</span><span class="na">getTimeZone</span><span class="o">(</span><span class="s2">"GMT+08:00"</span><span class="o">))</span>
    <span class="o">}</span><span class="k">else</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Date</span><span class="o">().</span><span class="na">format</span><span class="o">(</span><span class="s2">"yyyyMMdd_HHmmss"</span><span class="o">,</span> <span class="n">TimeZone</span><span class="o">.</span><span class="na">getTimeZone</span><span class="o">(</span><span class="s2">"GMT+08:00"</span><span class="o">))</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">//设置apk生成路径</span>
    <span class="n">applicationVariants</span><span class="o">.</span><span class="na">all</span> <span class="o">{</span> <span class="n">variant</span> <span class="o">-&gt;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">variant</span><span class="o">.</span><span class="na">buildType</span><span class="o">.</span><span class="na">name</span> <span class="o">!=</span> <span class="s2">"debug"</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">variant</span><span class="o">.</span><span class="na">packageApplicationProvider</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">outputDirectory</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">projectDir</span><span class="o">.</span><span class="na">absolutePath</span><span class="o">+</span><span class="s2">"/apk/"</span><span class="o">+</span><span class="n">variant</span><span class="o">.</span><span class="na">buildType</span><span class="o">.</span><span class="na">name</span><span class="o">)</span>
        <span class="o">}</span>

        <span class="n">variant</span><span class="o">.</span><span class="na">outputs</span><span class="o">.</span><span class="na">forEach</span> <span class="o">{</span> <span class="n">apkData</span> <span class="o">-&gt;</span>
            <span class="c1">//这个修改输出APK的文件名</span>
            <span class="n">apkData</span><span class="o">.</span><span class="na">outputFileName</span> <span class="o">=</span> <span class="s2">"平台开发版_"</span> <span class="o">+</span>
                    <span class="n">variant</span><span class="o">.</span><span class="na">versionName</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span>
                    <span class="n">variant</span><span class="o">.</span><span class="na">buildType</span><span class="o">.</span><span class="na">name</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span>
                    <span class="n">variant</span><span class="o">.</span><span class="na">versionCode</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span>
                    <span class="k">new</span> <span class="nf">Date</span><span class="o">().</span><span class="na">format</span><span class="o">(</span><span class="s2">"yyyyMMdd"</span><span class="o">,</span> <span class="n">TimeZone</span><span class="o">.</span><span class="na">getTimeZone</span><span class="o">(</span><span class="s2">"GMT+08:00"</span><span class="o">))</span> <span class="o">+</span>
                    <span class="s2">".apk"</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></div></div>

<h3 id="常见的问题">常见的问题</h3>

<ol>
  <li><code class="language-plaintext highlighter-rouge">It is currently in use by another Gradle instance</code>
    <ul>
      <li>解决方式
关闭AS，执行以下命令，等待命令执行成功，重新clean，build后成功解决该问题。
```
find ~/.gradle -type f -name “*.lock” | while read f; do rm $f; done</li>
    </ul>
  </li>
</ol>

<p>find ~/.gradle -type f -name “*.lock” -delete
```</p>

<h3 id="参考链接">参考链接</h3>
<p><a href="https://developer.android.google.cn/studio/build/optimize-your-build">优化构建速度</a></p>


                </div>
                <div class="read-all">
                    <a  href="/2019/04/18/Gradle%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
        </ul>



        <!-- Pagination links -->
        <div class="pagination">
          
            <span class="previous disable"><i class="fa fa-angle-double-left"></i></span>
            <span class="previous disable"><i class="fa fa-angle-left"></i></span>
          
          <span class="page_number ">1/8</span>
          
            <a href="/page2" class="next"><i class="fa fa-angle-right"></i></a>
            <a href="/page8" class="next"><i class="fa fa-angle-double-right"></i></a>
          
        </div>
    </div>
    <!-- <button class="anchor"><i class="fa fa-anchor"></i></button> -->
    <div class="right">
        <div class="wrap">
            <div class="side">
                <div>
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    Recent Posts
                </div>
                <ul class="content-ul" recent>
                    
                        <li><a href="/2020/08/21/bilibili-ijkplayer-%E7%BC%96%E8%AF%91%E5%8F%8A%E5%BA%94%E7%94%A8/">bilibili / ijkplayer 编译及应用</a></li>
                    
                        <li><a href="/2019/09/19/%E5%B8%B8%E7%94%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A5JAVA%E4%B8%BA%E4%BE%8B/">常用设计模式（以JAVA为例）</a></li>
                    
                        <li><a href="/2019/07/25/Flutter%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/">Flutter从入门到放弃</a></li>
                    
                        <li><a href="/2019/06/17/%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9MVVM%E8%80%8C%E4%B8%8D%E6%98%AFMVP-Android%E6%9E%B6%E6%9E%84/">为什么选择MVVM而不是MVP - Android架构</a></li>
                    
                        <li><a href="/2019/04/23/Linux%E4%BD%BF%E7%94%A8%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/">Linux使用从入门到放弃</a></li>
                    
                        <li><a href="/2019/04/18/Gradle%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/">Gradle从入门到放弃</a></li>
                    
                        <li><a href="/2019/01/21/Android-Databinding%E4%BD%BF%E7%94%A8/">Android DataBinding使用</a></li>
                    
                        <li><a href="/2018/08/15/Android-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">Android 性能优化</a></li>
                    
                        <li><a href="/2018/06/12/%E4%BD%BF%E7%94%A8TensorFlow%E5%AF%B9%E8%8A%B1%E6%9C%B5%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E5%88%86%E7%B1%BB/">使用TensorFlow对花朵进行简单分类</a></li>
                    
                        <li><a href="/2018/06/01/%E4%BA%A7%E5%93%81%E5%8E%9F%E5%9E%8B%E8%AE%BE%E8%AE%A1/">产品原型设计</a></li>
                    
                </ul>
            </div>

            <!-- Content -->
            <div class="side ">
                <div>
                    <i class="fa fa-th-list"></i>
                    Categories
                </div>
                <ul class="content-ul" cate>
                    
                    <li>
                        <a href="/category/#jekyll" class="categories-list-item" cate="jekyll">
                            <span class="name">
                                jekyll
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Android" class="categories-list-item" cate="Android">
                            <span class="name">
                                Android
                            </span>
                            <span class="badge">13</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Java" class="categories-list-item" cate="Java">
                            <span class="name">
                                Java
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Markdown" class="categories-list-item" cate="Markdown">
                            <span class="name">
                                Markdown
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#代码版本控制" class="categories-list-item" cate="代码版本控制">
                            <span class="name">
                                代码版本控制
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#AI" class="categories-list-item" cate="AI">
                            <span class="name">
                                AI
                            </span>
                            <span class="badge">4</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#MacBook" class="categories-list-item" cate="MacBook">
                            <span class="name">
                                MacBook
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#智能硬件" class="categories-list-item" cate="智能硬件">
                            <span class="name">
                                智能硬件
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#IOS" class="categories-list-item" cate="IOS">
                            <span class="name">
                                IOS
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Kotlin" class="categories-list-item" cate="Kotlin">
                            <span class="name">
                                Kotlin
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#GIS" class="categories-list-item" cate="GIS">
                            <span class="name">
                                GIS
                            </span>
                            <span class="badge">3</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#反编译" class="categories-list-item" cate="反编译">
                            <span class="name">
                                反编译
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Tomcat" class="categories-list-item" cate="Tomcat">
                            <span class="name">
                                Tomcat
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Python" class="categories-list-item" cate="Python">
                            <span class="name">
                                Python
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#jenkins" class="categories-list-item" cate="jenkins">
                            <span class="name">
                                jenkins
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#百度地图" class="categories-list-item" cate="百度地图">
                            <span class="name">
                                百度地图
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#跨平台" class="categories-list-item" cate="跨平台">
                            <span class="name">
                                跨平台
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#SpringBoot" class="categories-list-item" cate="SpringBoot">
                            <span class="name">
                                SpringBoot
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Linux" class="categories-list-item" cate="Linux">
                            <span class="name">
                                Linux
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#DB" class="categories-list-item" cate="DB">
                            <span class="name">
                                DB
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#TensorFlow" class="categories-list-item" cate="TensorFlow">
                            <span class="name">
                                TensorFlow
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#刷机" class="categories-list-item" cate="刷机">
                            <span class="name">
                                刷机
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#产品" class="categories-list-item" cate="产品">
                            <span class="name">
                                产品
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Gradle" class="categories-list-item" cate="Gradle">
                            <span class="name">
                                Gradle
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#Flutter" class="categories-list-item" cate="Flutter">
                            <span class="name">
                                Flutter
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#设计模式" class="categories-list-item" cate="设计模式">
                            <span class="name">
                                设计模式
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#音视频" class="categories-list-item" cate="音视频">
                            <span class="name">
                                音视频
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <div class="side">
                <div>
                    <i class="fa fa-tags"></i>
                    Tags
                </div>
                <div class="tags-cloud">
                    
                    
                    
                    

                    

                    
                      
                      
                      
                      
                      
                      <a href="/tag/#jekyll" style="font-size: 9pt; color: #999;">jekyll</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#RubyGems" style="font-size: 9pt; color: #999;">RubyGems</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Android" style="font-size: 18pt; color: #000;">Android</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#面试" style="font-size: 9pt; color: #999;">面试</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Java" style="font-size: 9pt; color: #999;">Java</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Markdown" style="font-size: 9pt; color: #999;">Markdown</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Git" style="font-size: 9pt; color: #999;">Git</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#GreenDAO" style="font-size: 9pt; color: #999;">GreenDAO</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#深度学习" style="font-size: 9pt; color: #999;">深度学习</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#机器学习" style="font-size: 9pt; color: #999;">机器学习</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#AI" style="font-size: 11.5pt; color: #777;">AI</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#MacBook" style="font-size: 9pt; color: #999;">MacBook</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#智能硬件" style="font-size: 9pt; color: #999;">智能硬件</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#IOS" style="font-size: 9pt; color: #999;">IOS</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Kotlin" style="font-size: 9pt; color: #999;">Kotlin</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#GIS" style="font-size: 11.5pt; color: #777;">GIS</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#反编译" style="font-size: 9pt; color: #999;">反编译</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Tomcat" style="font-size: 9pt; color: #999;">Tomcat</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Mac" style="font-size: 9pt; color: #999;">Mac</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#服务器" style="font-size: 9pt; color: #999;">服务器</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Python" style="font-size: 10pt; color: #888;">Python</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#数据分析" style="font-size: 9pt; color: #999;">数据分析</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#爬虫" style="font-size: 9pt; color: #999;">爬虫</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#jenkins" style="font-size: 10pt; color: #888;">jenkins</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#CI" style="font-size: 10pt; color: #888;">CI</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#百度地图" style="font-size: 9pt; color: #999;">百度地图</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#ReactNative" style="font-size: 9pt; color: #999;">ReactNative</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#跨平台" style="font-size: 10pt; color: #888;">跨平台</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#SpringBoot" style="font-size: 9pt; color: #999;">SpringBoot</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Contos" style="font-size: 9pt; color: #999;">Contos</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Linux" style="font-size: 10pt; color: #888;">Linux</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Spatialite" style="font-size: 9pt; color: #999;">Spatialite</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Oracle" style="font-size: 9pt; color: #999;">Oracle</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#DB" style="font-size: 9pt; color: #999;">DB</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#TensorFlow" style="font-size: 10.5pt; color: #777;">TensorFlow</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#技能" style="font-size: 9pt; color: #999;">技能</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#性能优化" style="font-size: 9pt; color: #999;">性能优化</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#ArcServer" style="font-size: 9pt; color: #999;">ArcServer</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#AS" style="font-size: 10pt; color: #888;">AS</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Gradle" style="font-size: 10.5pt; color: #777;">Gradle</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#SVN" style="font-size: 9pt; color: #999;">SVN</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#原型设计" style="font-size: 9pt; color: #999;">原型设计</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#产品" style="font-size: 9pt; color: #999;">产品</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Jetpack" style="font-size: 9pt; color: #999;">Jetpack</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#DataBinding" style="font-size: 9pt; color: #999;">DataBinding</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#Flutter" style="font-size: 9pt; color: #999;">Flutter</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#设计模式" style="font-size: 9pt; color: #999;">设计模式</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#音视频" style="font-size: 9pt; color: #999;">音视频</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#ijkplayer" style="font-size: 9pt; color: #999;">ijkplayer</a>
                    
                </div>
            </div>

            <!-- <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul  class="content-ul">

                </ul>
            </div> -->
        </div>
    </div>
</div>
<!-- <script src="/js/scroll.min.js " charset="utf-8"></script> -->
<!-- <script src="/js/pageContent.js " charset="utf-8"></script> -->


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
             本站记录我编程之旅的沿途风景！ 
        </p>
        <p class="contact">
            Contact me at: 
            <a href="https://github.com/wuhongsheng" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a>  
            <a href="mailto:664116298@qq.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a> 
                   
        </p>
        <p>
            本站总访问量<span id="busuanzi_value_site_pv"></span>次，本站访客数<span id="busuanzi_value_site_uv"></span>人次，本文总阅读量<span id="busuanzi_value_page_pv"></span>次
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
            <span>
                 Theme designed by HyG.
            </span>
        </p>
    </div>
</footer>
<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" data-scroll>
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/smooth-scroll.min.js " charset="utf-8"></script>
    <script type="text/javascript">
      smoothScroll.init({
        speed: 500, // Integer. How fast to complete the scroll in milliseconds
        easing: 'easeInOutCubic', // Easing pattern to use
        offset: 20, // Integer. How far to offset the scrolling anchor location in pixels
      });
    </script>
    <!-- <script src=" /js/scroll.min.js " charset="utf-8"></script> -->
   

  </body>

</html>
